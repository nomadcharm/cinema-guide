var dr=t=>{throw TypeError(t)};var Wt=(t,e,r)=>e.has(t)||dr("Cannot "+r);var l=(t,e,r)=>(Wt(t,e,"read from private field"),r?r.call(t):e.get(t)),M=(t,e,r)=>e.has(t)?dr("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),j=(t,e,r,s)=>(Wt(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r),B=(t,e,r)=>(Wt(t,e,"access private method"),r);var Et=(t,e,r,s)=>({set _(i){j(t,e,i,r)},get _(){return l(t,e,s)}});import{r as H,j as h,L as Jt,R as fe,u as Cs,b as _s,U as Ss,A as Es,N as hr}from"./index-Cf1jCGDK.js";const Wr=()=>{const[t,e]=H.useState("login"),[r,s]=H.useState(!1);return[t,r,()=>{s(o=>o=!o)},()=>{e(o=>o==="register"?"login":"register")}]},ht="https://cinemaguide.skillbox.cc/movie",dn=async()=>(await fetch(`${ht}/random`)).json(),hn=async()=>(await fetch(`${ht}/top10`)).json(),yn=async t=>(await fetch(`${ht}/${t}`)).json(),pn=async()=>(await fetch(`${ht}/genres`)).json(),vn=async(t,e)=>(await fetch(`${ht}?genre=${t}&count=10&page=${e}`)).json(),As=async t=>(await fetch(`${ht}/?title=${t}`)).json(),mn=(t,e)=>{H.useEffect(()=>{document.title=t},[e,t])},Fs=(t,e=300)=>{const[r,s]=H.useState(t);return H.useEffect(()=>{const i=setTimeout(()=>{s(t)},e);return()=>clearTimeout(i)},[t,e]),r},js=t=>{const e=Math.trunc(t/60),r=t%60;return`${e} ч ${r} мин`},Os=t=>{let e="rating";return t>=8.5?e+=" excellent":t>=7?e+=" high":t>=6?e+=" medium":e+=" low",e},Kr="/cinema-guide/assets/logo-CmcEnWyf.svg",Vs="data:image/svg+xml,%3csvg%20width='36'%20height='36'%20viewBox='0%200%2036%2036'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='0.5'%20y='0.5'%20width='35'%20height='35'%20rx='7.5'%20stroke='white'%20stroke-opacity='0.8'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M26.4865%2014.3797C26.6253%2013.9851%2026.4865%2013.6981%2025.8719%2013.6981H23.8298C23.3144%2013.6981%2023.0764%2013.9492%2022.9377%2014.2183C22.9377%2014.2183%2021.8869%2016.5141%2020.4198%2018.0027C19.9439%2018.4332%2019.7259%2018.5767%2019.4682%2018.5767C19.3293%2018.5767%2019.1509%2018.4332%2019.1509%2018.0386V14.3617C19.1509%2013.8954%2018.9923%2013.6802%2018.5561%2013.6802H15.3444C15.0271%2013.6802%2014.8289%2013.8954%2014.8289%2014.1106C14.8289%2014.5591%2015.5624%2014.6667%2015.6417%2015.9222V18.6484C15.6417%2019.2403%2015.5228%2019.3479%2015.2651%2019.3479C14.5711%2019.3479%2012.886%2017.0342%2011.8748%2014.3976C11.6765%2013.8775%2011.4783%2013.6802%2010.9629%2013.6802H8.90093C8.30617%2013.6802%208.20703%2013.9313%208.20703%2014.2003C8.20703%2014.6846%208.90093%2017.1239%2011.4386%2020.3524C13.1239%2022.5585%2015.5228%2023.7422%2017.6838%2023.7422C18.9923%2023.7422%2019.1509%2023.4732%2019.1509%2023.0248V21.3568C19.1509%2020.8187%2019.2699%2020.729%2019.6862%2020.729C19.9836%2020.729%2020.5189%2020.8725%2021.7283%2021.9307C23.1161%2023.1862%2023.354%2023.7602%2024.1272%2023.7602H26.1693C26.764%2023.7602%2027.0416%2023.4911%2026.883%2022.971C26.7046%2022.4509%2026.0305%2021.6976%2025.1582%2020.8007C24.6823%2020.2986%2023.9686%2019.7426%2023.7505%2019.4735C23.4531%2019.1148%2023.5324%2018.9713%2023.7505%2018.6484C23.7307%2018.6484%2026.2287%2015.4559%2026.4865%2014.3797Z'%20fill='white'%20fill-opacity='0.8'/%3e%3c/svg%3e",ks="data:image/svg+xml,%3csvg%20width='36'%20height='36'%20viewBox='0%200%2036%2036'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='0.5'%20y='0.5'%20width='35'%20height='35'%20rx='7.5'%20stroke='white'%20stroke-opacity='0.8'/%3e%3cpath%20d='M19.919%2022.2622L22.5725%2024.8238C23.116%2025.3474%2023.116%2026.1978%2022.5725%2026.722C22.0294%2027.2462%2021.1493%2027.2462%2020.6069%2026.722L17.998%2024.2048L15.3914%2026.722C15.1196%2026.9838%2014.7635%2027.1149%2014.4074%2027.1149C14.0518%2027.1149%2013.6962%2026.9838%2013.4244%2026.722C12.8814%2026.1978%2012.8814%2025.348%2013.4238%2024.8238L16.0776%2022.2622C15.1114%2022.0497%2014.1796%2021.6802%2013.3213%2021.1604C12.6718%2020.7651%2012.4767%2019.9369%2012.8859%2019.3094C13.2941%2018.681%2014.1523%2018.4919%2014.803%2018.8872C16.7461%2020.0671%2019.2493%2020.0674%2021.1936%2018.8872C21.8443%2018.4919%2022.7023%2018.681%2023.1112%2019.3094C23.5205%2019.9364%2023.3248%2020.7651%2022.6753%2021.1604C21.817%2021.6807%2020.8852%2022.0497%2019.919%2022.2622Z'%20fill='white'%20fill-opacity='0.8'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M13.2402%2013.9419C13.2402%2016.4679%2015.3691%2018.5226%2017.9868%2018.5226C20.605%2018.5226%2022.7333%2016.4679%2022.7333%2013.9419C22.7333%2011.4151%2020.605%209.35986%2017.9868%209.35986C15.3691%209.35986%2013.2402%2011.4151%2013.2402%2013.9419ZM19.952%2013.9414C19.952%2012.8953%2019.0705%2012.0446%2017.9867%2012.0446C16.9038%2012.0446%2016.0214%2012.8953%2016.0214%2013.9414C16.0214%2014.9868%2016.9038%2015.838%2017.9867%2015.838C19.0705%2015.838%2019.952%2014.9868%2019.952%2013.9414Z'%20fill='white'%20fill-opacity='0.8'/%3e%3c/svg%3e",Rs="data:image/svg+xml,%3csvg%20width='36'%20height='36'%20viewBox='0%200%2036%2036'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='0.5'%20y='0.5'%20width='35'%20height='35'%20rx='7.5'%20stroke='white'%20stroke-opacity='0.8'/%3e%3cpath%20d='M8.60008%2017.8588C10.2834%2016.9315%2012.1625%2016.1576%2013.9182%2015.3798C16.9388%2014.1058%2019.9713%2012.8538%2023.0344%2011.6882C23.6304%2011.4896%2024.7012%2011.2954%2024.8062%2012.1786C24.7487%2013.4288%2024.5122%2014.6716%2024.35%2015.9145C23.9382%2018.6476%2023.4623%2021.3713%2022.9982%2024.0955C22.8383%2025.0028%2021.7016%2025.4726%2020.9742%2024.8919C19.2263%2023.7112%2017.465%2022.5421%2015.7394%2021.334C15.1741%2020.7596%2015.6983%2019.9348%2016.2031%2019.5247C17.6427%2018.1059%2019.1695%2016.9005%2020.5339%2015.4084C20.9019%2014.5196%2019.8145%2015.2687%2019.4558%2015.4982C17.4849%2016.8563%2015.5623%2018.2974%2013.4844%2019.4911C12.423%2020.0753%2011.1859%2019.576%2010.125%2019.25C9.17372%2018.8561%207.77979%2018.4594%208.59999%2017.8588L8.60008%2017.8588Z'%20fill='white'%20fill-opacity='0.8'/%3e%3c/svg%3e",Ms="data:image/svg+xml,%3csvg%20width='36'%20height='36'%20viewBox='0%200%2036%2036'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='0.5'%20y='0.5'%20width='35'%20height='35'%20rx='7.5'%20stroke='white'%20stroke-opacity='0.8'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M24.0013%2013.0496C24.6622%2013.2309%2025.1827%2013.7653%2025.3593%2014.4439C25.6803%2015.6738%2025.6803%2018.24%2025.6803%2018.24C25.6803%2018.24%2025.6803%2020.8061%2025.3593%2022.036C25.1827%2022.7146%2024.6622%2023.249%2024.0013%2023.4305C22.8035%2023.76%2018.0003%2023.76%2018.0003%2023.76C18.0003%2023.76%2013.1971%2023.76%2011.9993%2023.4305C11.3383%2023.249%2010.8179%2022.7146%2010.6412%2022.036C10.3203%2020.8061%2010.3203%2018.24%2010.3203%2018.24C10.3203%2018.24%2010.3203%2015.6738%2010.6412%2014.4439C10.8179%2013.7653%2011.3383%2013.2309%2011.9993%2013.0496C13.1971%2012.72%2018.0003%2012.72%2018.0003%2012.72C18.0003%2012.72%2022.8035%2012.72%2024.0013%2013.0496ZM16.5603%2016.0802V20.8802L20.4003%2018.4803L16.5603%2016.0802Z'%20fill='white'%20fill-opacity='0.8'/%3e%3c/svg%3e",Ds="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='48'%20height='48'%20rx='24'%20fill='white'/%3e%3cpath%20d='M22.5859%2024L14.793%2016.2071L16.2072%2014.7928L24.0001%2022.5857L31.793%2014.7928L33.2072%2016.2071L25.4143%2024L33.2072%2031.7928L31.793%2033.2071L24.0001%2025.4142L16.2072%2033.2071L14.793%2031.7928L22.5859%2024Z'%20fill='black'/%3e%3c/svg%3e",Ps="/cinema-guide/assets/icon-popcorn-BV0ew-mn.png",$r="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M21%203C21.5523%203%2022%203.44772%2022%204V20.0066C22%2020.5552%2021.5447%2021%2021.0082%2021H2.9918C2.44405%2021%202%2020.5551%202%2020.0066V19H20V7.3L12%2014.5L2%205.5V4C2%203.44772%202.44772%203%203%203H21ZM8%2015V17H0V15H8ZM5%2010V12H0V10H5ZM19.5659%205H4.43414L12%2011.8093L19.5659%205Z'%20/%3e%3c/svg%3e",yr="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4%2022C4%2017.5817%207.58172%2014%2012%2014C16.4183%2014%2020%2017.5817%2020%2022H18C18%2018.6863%2015.3137%2016%2012%2016C8.68629%2016%206%2018.6863%206%2022H4ZM12%2013C8.685%2013%206%2010.315%206%207C6%203.685%208.685%201%2012%201C15.315%201%2018%203.685%2018%207C18%2010.315%2015.315%2013%2012%2013ZM12%2011C14.21%2011%2016%209.21%2016%207C16%204.79%2014.21%203%2012%203C9.79%203%208%204.79%208%207C8%209.21%209.79%2011%2012%2011Z'%20/%3e%3c/svg%3e",er="data:image/svg+xml,%3csvg%20width='22'%20height='12'%20viewBox='0%200%2022%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.917%207C11.441%209.8377%208.973%2012%206%2012C2.68629%2012%200%209.3137%200%206C0%202.68629%202.68629%200%206%200C8.973%200%2011.441%202.16229%2011.917%205H22V7H20V11H18V7H16V11H14V7H11.917ZM6%2010C8.20914%2010%2010%208.2091%2010%206C10%203.79086%208.20914%202%206%202C3.79086%202%202%203.79086%202%206C2%208.2091%203.79086%2010%206%2010Z'%20/%3e%3c/svg%3e",Ns=()=>{const[t,e]=H.useState(!0),[r,s]=H.useState(""),[i,n]=H.useState([]),o=Fs(r),f=async p=>await As(p).then(d=>{const C=d.filter(A=>p&&A&&A.title.toLowerCase().trim().includes(p.toLowerCase().trim()));n(C)}),w=p=>{e(!0),s(p)};H.useEffect(()=>{f(o)},[o]);const x=document.querySelector("#modal");return window.addEventListener("click",p=>{x&&!x.contains(p.target)&&e(!1)}),H.useEffect(()=>{r&&x&&x.classList.add("active")},[r,x]),h.jsxs("div",{className:"search-bar",children:[h.jsx("input",{className:"search-bar__input",type:"text",placeholder:"Поиск",value:r,onChange:p=>w(p.target.value)}),h.jsx("div",{className:t?"search-bar__dropdown active":"search-bar__dropdown",id:"modal",children:h.jsx("ul",{className:"search-bar__results-list",children:i&&i.map(p=>h.jsx("li",{className:"search-bar__results-item",children:h.jsx(Jt,{to:`/movie/${p.id}`,onClick:()=>{e(!1),s("")},children:h.jsxs("article",{className:"search-card",children:[h.jsx("img",{src:p.posterUrl?p.posterUrl:Ps,alt:p.title,width:40,height:52}),h.jsxs("div",{className:"search-card__content",children:[h.jsxs("div",{className:"search-card__info",children:[h.jsx("p",{className:Os(p.tmdbRating),children:p.tmdbRating.toFixed(1)}),h.jsx("p",{className:"search-card__release-year",children:p.releaseYear}),h.jsx("p",{className:"search-card__genre",children:p.genres[0]}),h.jsx("p",{className:"search-card__runtime",children:js(p.runtime)})]}),h.jsx("p",{className:"search-card__title",children:p.title})]})]})})},p.id)).slice(0,5)})})]})};function Ls(t,e){if(t==null)return{};var r={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(e.includes(s))continue;r[s]=t[s]}return r}function Rt(){return Rt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)({}).hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Rt.apply(null,arguments)}function tr(t,e){return tr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},tr(t,e)}function Ts(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,tr(t,e)}function Kt(t,e,r){if(r||arguments.length===2)for(var s=0,i=e.length,n;s<i;s++)(n||!(s in e))&&(n||(n=Array.prototype.slice.call(e,0,s)),n[s]=e[s]);return t.concat(n||Array.prototype.slice.call(e))}/*!
 * content-type
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var pr=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,qs=/\\([\u000b\u0020-\u00ff])/g,Is=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,Us=Qs;function Qs(t){if(!t)throw new TypeError("argument string is required");var e=typeof t=="object"?Hs(t):t;if(typeof e!="string")throw new TypeError("argument string is required to be a string");var r=e.indexOf(";"),s=r!==-1?e.slice(0,r).trim():e.trim();if(!Is.test(s))throw new TypeError("invalid media type");var i=new Gs(s.toLowerCase());if(r!==-1){var n,o,f;for(pr.lastIndex=r;o=pr.exec(e);){if(o.index!==r)throw new TypeError("invalid parameter format");r+=o[0].length,n=o[1].toLowerCase(),f=o[2],f.charCodeAt(0)===34&&(f=f.slice(1,-1),f.indexOf("\\")!==-1&&(f=f.replace(qs,"$1"))),i.parameters[n]=f}if(r!==e.length)throw new TypeError("invalid parameter format")}return i}function Hs(t){var e;if(typeof t.getHeader=="function"?e=t.getHeader("content-type"):typeof t.headers=="object"&&(e=t.headers&&t.headers["content-type"]),typeof e!="string")throw new TypeError("content-type header is missing from object");return e}function Gs(t){this.parameters=Object.create(null),this.type=t}var rt=new Map,Zr=function(e){return e.cloneNode(!0)},vr=function(){return window.location.protocol==="file:"},Xr=function(e,r,s){var i=new XMLHttpRequest;i.onreadystatechange=function(){try{if(!/\.svg/i.test(e)&&i.readyState===2){var n=i.getResponseHeader("Content-Type");if(!n)throw new Error("Content type not found");var o=Us(n).type;if(!(o==="image/svg+xml"||o==="text/plain"))throw new Error("Invalid content type: ".concat(o))}if(i.readyState===4){if(i.status===404||i.responseXML===null)throw new Error(vr()?"Note: SVG injection ajax calls do not work locally without adjusting security settings in your browser. Or consider using a local webserver.":"Unable to load SVG file: "+e);if(i.status===200||vr()&&i.status===0)s(null,i);else throw new Error("There was a problem injecting the SVG: "+i.status+" "+i.statusText)}}catch(f){if(i.abort(),f instanceof Error)s(f,i);else throw f}},i.open("GET",e),i.withCredentials=r,i.overrideMimeType&&i.overrideMimeType("text/xml"),i.send()},Ve={},mr=function(e,r){Ve[e]=Ve[e]||[],Ve[e].push(r)},Bs=function(e){for(var r=function(o,f){setTimeout(function(){if(Array.isArray(Ve[e])){var w=rt.get(e),x=Ve[e][o];w instanceof SVGSVGElement&&x(null,Zr(w)),w instanceof Error&&x(w),o===Ve[e].length-1&&delete Ve[e]}},0)},s=0,i=Ve[e].length;s<i;s++)r(s)},Ws=function(e,r,s){if(rt.has(e)){var i=rt.get(e);if(i===void 0){mr(e,s);return}if(i instanceof SVGSVGElement){s(null,Zr(i));return}}rt.set(e,void 0),mr(e,s),Xr(e,r,function(n,o){var f;n?rt.set(e,n):((f=o.responseXML)===null||f===void 0?void 0:f.documentElement)instanceof SVGSVGElement&&rt.set(e,o.responseXML.documentElement),Bs(e)})},Ks=function(e,r,s){Xr(e,r,function(i,n){var o;i?s(i):((o=n.responseXML)===null||o===void 0?void 0:o.documentElement)instanceof SVGSVGElement&&s(null,n.responseXML.documentElement)})},$s=0,Zs=function(){return++$s},me=[],gr={},Xs="http://www.w3.org/2000/svg",$t="http://www.w3.org/1999/xlink",br=function(e,r,s,i,n,o,f){var w=e.getAttribute("data-src")||e.getAttribute("src");if(!w){f(new Error("Invalid data-src or src attribute"));return}if(me.indexOf(e)!==-1){me.splice(me.indexOf(e),1),e=null;return}me.push(e),e.setAttribute("src","");var x=i?Ws:Ks;x(w,n,function(p,d){if(!d){me.splice(me.indexOf(e),1),e=null,f(p);return}var C=e.getAttribute("id");C&&d.setAttribute("id",C);var A=e.getAttribute("title");A&&d.setAttribute("title",A);var k=e.getAttribute("width");k&&d.setAttribute("width",k);var q=e.getAttribute("height");q&&d.setAttribute("height",q);var L=Array.from(new Set(Kt(Kt(Kt([],(d.getAttribute("class")||"").split(" "),!0),["injected-svg"],!1),(e.getAttribute("class")||"").split(" "),!0))).join(" ").trim();d.setAttribute("class",L);var S=e.getAttribute("style");S&&d.setAttribute("style",S),d.setAttribute("data-src",w);var b=[].filter.call(e.attributes,function(J){return/^data-\w[\w-]*$/.test(J.name)});if(Array.prototype.forEach.call(b,function(J){J.name&&J.value&&d.setAttribute(J.name,J.value)}),s){var F={clipPath:["clip-path"],"color-profile":["color-profile"],cursor:["cursor"],filter:["filter"],linearGradient:["fill","stroke"],marker:["marker","marker-start","marker-mid","marker-end"],mask:["mask"],path:[],pattern:["fill","stroke"],radialGradient:["fill","stroke"]},D,E,I,P,V;Object.keys(F).forEach(function(J){D=J,I=F[J],E=d.querySelectorAll(D+"[id]");for(var Ie=function(yt,Ut){P=E[yt].id,V=P+"-"+Zs();var Xe;Array.prototype.forEach.call(I,function(Je){Xe=d.querySelectorAll("["+Je+'*="'+P+'"]');for(var Qe=0,lr=Xe.length;Qe<lr;Qe++){var Ht=Xe[Qe].getAttribute(Je);Ht&&!Ht.match(new RegExp('url\\("?#'+P+'"?\\)'))||Xe[Qe].setAttribute(Je,"url(#"+V+")")}});for(var Ue=d.querySelectorAll("[*|href]"),ze=[],je=0,_t=Ue.length;je<_t;je++){var St=Ue[je].getAttributeNS($t,"href");St&&St.toString()==="#"+E[yt].id&&ze.push(Ue[je])}for(var Ye=0,Qt=ze.length;Ye<Qt;Ye++)ze[Ye].setAttributeNS($t,"href","#"+V);E[yt].id=V},_e=0,Ct=E.length;_e<Ct;_e++)Ie(_e)})}d.removeAttribute("xmlns:a");for(var U=d.querySelectorAll("script"),K=[],he,O,R=0,G=U.length;R<G;R++)O=U[R].getAttribute("type"),(!O||O==="application/ecmascript"||O==="application/javascript"||O==="text/javascript")&&(he=U[R].innerText||U[R].textContent,he&&K.push(he),d.removeChild(U[R]));if(K.length>0&&(r==="always"||r==="once"&&!gr[w])){for(var $=0,ae=K.length;$<ae;$++)new Function(K[$])(window);gr[w]=!0}var ie=d.querySelectorAll("style");if(Array.prototype.forEach.call(ie,function(J){J.textContent+=""}),d.setAttribute("xmlns",Xs),d.setAttribute("xmlns:xlink",$t),o(d),!e.parentNode){me.splice(me.indexOf(e),1),e=null,f(new Error("Parent node is null"));return}e.parentNode.replaceChild(d,e),me.splice(me.indexOf(e),1),e=null,f(null,d)})},zs=function(e,r){var s=r===void 0?{}:r,i=s.afterAll,n=i===void 0?function(){}:i,o=s.afterEach,f=o===void 0?function(){}:o,w=s.beforeEach,x=w===void 0?function(){}:w,p=s.cacheRequests,d=p===void 0?!0:p,C=s.evalScripts,A=C===void 0?"never":C,k=s.httpRequestWithCredentials,q=k===void 0?!1:k,L=s.renumerateIRIElements,S=L===void 0?!0:L;if(e&&"length"in e)for(var b=0,F=0,D=e.length;F<D;F++)br(e[F],A,S,d,q,x,function(E,I){f(E,I),e&&"length"in e&&e.length===++b&&n(b)});else e?br(e,A,S,d,q,x,function(E,I){f(E,I),n(1),e=null}):n(0)},zr={exports:{}},Ys="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Js=Ys,ei=Js;function Yr(){}function Jr(){}Jr.resetWarningCache=Yr;var ti=function(){function t(s,i,n,o,f,w){if(w!==ei){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Jr,resetWarningCache:Yr};return r.PropTypes=r,r};zr.exports=ti();var X=zr.exports,ri=function(e){var r=(e==null?void 0:e.ownerDocument)||document;return r.defaultView||window},si=function(e,r){for(var s in e)if(!(s in r))return!0;for(var i in r)if(e[i]!==r[i])return!0;return!1},ii=["afterInjection","beforeInjection","desc","evalScripts","fallback","httpRequestWithCredentials","loading","renumerateIRIElements","src","title","useRequestCache","wrapper"],At="http://www.w3.org/2000/svg",wr="http://www.w3.org/1999/xlink",xe=function(t){function e(){for(var s,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return s=t.call.apply(t,[this].concat(n))||this,s.initialState={hasError:!1,isLoading:!0},s.state=s.initialState,s._isMounted=!1,s.reactWrapper=void 0,s.nonReactWrapper=void 0,s.refCallback=function(f){s.reactWrapper=f},s}Ts(e,t);var r=e.prototype;return r.renderSVG=function(){var i=this;if(this.reactWrapper instanceof ri(this.reactWrapper).Node){var n=this.props,o=n.desc,f=n.evalScripts,w=n.httpRequestWithCredentials,x=n.renumerateIRIElements,p=n.src,d=n.title,C=n.useRequestCache,A=this.props.onError,k=this.props.beforeInjection,q=this.props.afterInjection,L=this.props.wrapper,S,b;L==="svg"?(S=document.createElementNS(At,L),S.setAttribute("xmlns",At),S.setAttribute("xmlns:xlink",wr),b=document.createElementNS(At,L)):(S=document.createElement(L),b=document.createElement(L)),S.appendChild(b),b.dataset.src=p,this.nonReactWrapper=this.reactWrapper.appendChild(S);var F=function(P){if(i.removeSVG(),!i._isMounted){A(P);return}i.setState(function(){return{hasError:!0,isLoading:!1}},function(){A(P)})},D=function(P,V){if(P){F(P);return}i._isMounted&&i.setState(function(){return{isLoading:!1}},function(){try{q(V)}catch(U){F(U)}})},E=function(P){if(P.setAttribute("role","img"),o){var V=P.querySelector(":scope > desc");V&&P.removeChild(V);var U=document.createElement("desc");U.innerHTML=o,P.prepend(U)}if(d){var K=P.querySelector(":scope > title");K&&P.removeChild(K);var he=document.createElement("title");he.innerHTML=d,P.prepend(he)}try{k(P)}catch(O){F(O)}};zs(b,{afterEach:D,beforeEach:E,cacheRequests:C,evalScripts:f,httpRequestWithCredentials:w,renumerateIRIElements:x})}},r.removeSVG=function(){var i;(i=this.nonReactWrapper)!=null&&i.parentNode&&(this.nonReactWrapper.parentNode.removeChild(this.nonReactWrapper),this.nonReactWrapper=null)},r.componentDidMount=function(){this._isMounted=!0,this.renderSVG()},r.componentDidUpdate=function(i){var n=this;si(Rt({},i),this.props)&&this.setState(function(){return n.initialState},function(){n.removeSVG(),n.renderSVG()})},r.componentWillUnmount=function(){this._isMounted=!1,this.removeSVG()},r.render=function(){var i=this.props;i.afterInjection,i.beforeInjection,i.desc,i.evalScripts;var n=i.fallback;i.httpRequestWithCredentials;var o=i.loading;i.renumerateIRIElements,i.src,i.title,i.useRequestCache;var f=i.wrapper,w=Ls(i,ii),x=f;return H.createElement(x,Rt({},w,{ref:this.refCallback},f==="svg"?{xmlns:At,xmlnsXlink:wr}:{}),this.state.isLoading&&o&&H.createElement(o,null),this.state.hasError&&n&&H.createElement(n,null))},e}(H.Component);xe.defaultProps={afterInjection:function(){},beforeInjection:function(){},desc:"",evalScripts:"never",fallback:null,httpRequestWithCredentials:!1,loading:null,onError:function(){},renumerateIRIElements:!0,title:"",useRequestCache:!0,wrapper:"div"};xe.propTypes={afterInjection:X.func,beforeInjection:X.func,desc:X.string,evalScripts:X.oneOf(["always","once","never"]),fallback:X.oneOfType([X.func,X.object,X.string]),httpRequestWithCredentials:X.bool,loading:X.oneOfType([X.func,X.object,X.string]),onError:X.func,renumerateIRIElements:X.bool,src:X.string.isRequired,title:X.string,useRequestCache:X.bool,wrapper:X.oneOf(["div","span","svg"])};const He=({children:t,errorMessage:e})=>h.jsxs("label",{className:"form-field",children:[t,e&&h.jsx("span",{className:"form-field__error",children:e})]}),ni=()=>h.jsxs("div",{className:"registration",children:[h.jsx("h3",{className:"registration__title",children:"Регистрация"}),h.jsxs("form",{className:"registration__form",children:[h.jsxs(He,{children:[h.jsx(xe,{className:"input-icon",src:$r}),h.jsx("input",{type:"text",placeholder:"Электронная почта"})]}),h.jsxs(He,{children:[h.jsx(xe,{className:"input-icon",src:yr}),h.jsx("input",{type:"text",placeholder:"Имя"})]}),h.jsxs(He,{children:[h.jsx(xe,{className:"input-icon",src:yr}),h.jsx("input",{type:"text",placeholder:"Фамилия"})]}),h.jsxs(He,{children:[h.jsx(xe,{className:"input-icon",src:er}),h.jsx("input",{type:"text",placeholder:"Пароль"})]}),h.jsxs(He,{children:[h.jsx(xe,{className:"input-icon",src:er}),h.jsx("input",{type:"text",placeholder:"Подтвердить пароль"})]}),h.jsx("button",{className:"button button-primary registration__submit",children:"Создать аккаунт"})]})]});var wt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Tt=typeof window>"u"||"Deno"in globalThis;function ye(){}function ai(t,e){return typeof t=="function"?t(e):t}function oi(t){return typeof t=="number"&&t>=0&&t!==1/0}function ui(t,e){return Math.max(t+(e||0)-Date.now(),0)}function xr(t,e){return typeof t=="function"?t(e):t}function li(t,e){return typeof t=="function"?t(e):t}function Cr(t,e){const{type:r="all",exact:s,fetchStatus:i,predicate:n,queryKey:o,stale:f}=t;if(o){if(s){if(e.queryHash!==ir(o,e.options))return!1}else if(!mt(e.queryKey,o))return!1}if(r!=="all"){const w=e.isActive();if(r==="active"&&!w||r==="inactive"&&w)return!1}return!(typeof f=="boolean"&&e.isStale()!==f||i&&i!==e.state.fetchStatus||n&&!n(e))}function _r(t,e){const{exact:r,status:s,predicate:i,mutationKey:n}=t;if(n){if(!e.options.mutationKey)return!1;if(r){if(Ze(e.options.mutationKey)!==Ze(n))return!1}else if(!mt(e.options.mutationKey,n))return!1}return!(s&&e.state.status!==s||i&&!i(e))}function ir(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ze)(t)}function Ze(t){return JSON.stringify(t,(e,r)=>rr(r)?Object.keys(r).sort().reduce((s,i)=>(s[i]=r[i],s),{}):r)}function mt(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!mt(t[r],e[r])):!1}function es(t,e){if(t===e)return t;const r=Sr(t)&&Sr(e);if(r||rr(t)&&rr(e)){const s=r?t:Object.keys(t),i=s.length,n=r?e:Object.keys(e),o=n.length,f=r?[]:{};let w=0;for(let x=0;x<o;x++){const p=r?x:n[x];(!r&&s.includes(p)||r)&&t[p]===void 0&&e[p]===void 0?(f[p]=void 0,w++):(f[p]=es(t[p],e[p]),f[p]===t[p]&&t[p]!==void 0&&w++)}return i===o&&w===i?t:f}return e}function ci(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function Sr(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function rr(t){if(!Er(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Er(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Er(t){return Object.prototype.toString.call(t)==="[object Object]"}function fi(t){return new Promise(e=>{setTimeout(e,t)})}function di(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?es(t,e):e}function hi(t,e,r=0){const s=[...t,e];return r&&s.length>r?s.slice(1):s}function yi(t,e,r=0){const s=[e,...t];return r&&s.length>r?s.slice(0,-1):s}var ts=Symbol();function rs(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===ts?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Be,Re,it,Lr,pi=(Lr=class extends wt{constructor(){super();M(this,Be);M(this,Re);M(this,it);j(this,it,e=>{if(!Tt&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){l(this,Re)||this.setEventListener(l(this,it))}onUnsubscribe(){var e;this.hasListeners()||((e=l(this,Re))==null||e.call(this),j(this,Re,void 0))}setEventListener(e){var r;j(this,it,e),(r=l(this,Re))==null||r.call(this),j(this,Re,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){l(this,Be)!==e&&(j(this,Be,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof l(this,Be)=="boolean"?l(this,Be):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Be=new WeakMap,Re=new WeakMap,it=new WeakMap,Lr),ss=new pi,nt,Me,at,Tr,vi=(Tr=class extends wt{constructor(){super();M(this,nt,!0);M(this,Me);M(this,at);j(this,at,e=>{if(!Tt&&window.addEventListener){const r=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){l(this,Me)||this.setEventListener(l(this,at))}onUnsubscribe(){var e;this.hasListeners()||((e=l(this,Me))==null||e.call(this),j(this,Me,void 0))}setEventListener(e){var r;j(this,at,e),(r=l(this,Me))==null||r.call(this),j(this,Me,e(this.setOnline.bind(this)))}setOnline(e){l(this,nt)!==e&&(j(this,nt,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return l(this,nt)}},nt=new WeakMap,Me=new WeakMap,at=new WeakMap,Tr),Mt=new vi;function mi(t){return Math.min(1e3*2**t,3e4)}function is(t){return(t??"online")==="online"?Mt.isOnline():!0}var ns=class{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Zt(t){return t instanceof ns}function as(t){let e=!1,r=0,s=!1,i,n,o;const f=new Promise((S,b)=>{n=S,o=b}),w=S=>{var b;s||(k(new ns(S)),(b=t.abort)==null||b.call(t))},x=()=>{e=!0},p=()=>{e=!1},d=()=>ss.isFocused()&&(t.networkMode==="always"||Mt.isOnline())&&t.canRun(),C=()=>is(t.networkMode)&&t.canRun(),A=S=>{var b;s||(s=!0,(b=t.onSuccess)==null||b.call(t,S),i==null||i(),n(S))},k=S=>{var b;s||(s=!0,(b=t.onError)==null||b.call(t,S),i==null||i(),o(S))},q=()=>new Promise(S=>{var b;i=F=>{(s||d())&&S(F)},(b=t.onPause)==null||b.call(t)}).then(()=>{var S;i=void 0,s||(S=t.onContinue)==null||S.call(t)}),L=()=>{if(s)return;let S;const b=r===0?t.initialPromise:void 0;try{S=b??t.fn()}catch(F){S=Promise.reject(F)}Promise.resolve(S).then(A).catch(F=>{var V;if(s)return;const D=t.retry??(Tt?0:3),E=t.retryDelay??mi,I=typeof E=="function"?E(r,F):E,P=D===!0||typeof D=="number"&&r<D||typeof D=="function"&&D(r,F);if(e||!P){k(F);return}r++,(V=t.onFail)==null||V.call(t,r,F),fi(I).then(()=>d()?void 0:q()).then(()=>{e?k(F):L()})})};return{promise:f,cancel:w,continue:()=>(i==null||i(),f),cancelRetry:x,continueRetry:p,canStart:C,start:()=>(C()?L():q().then(L),f)}}function gi(){let t=[],e=0,r=C=>{C()},s=C=>{C()},i=C=>setTimeout(C,0);const n=C=>{i=C},o=C=>{let A;e++;try{A=C()}finally{e--,e||x()}return A},f=C=>{e?t.push(C):i(()=>{r(C)})},w=C=>(...A)=>{f(()=>{C(...A)})},x=()=>{const C=t;t=[],C.length&&i(()=>{s(()=>{C.forEach(A=>{r(A)})})})};return{batch:o,batchCalls:w,schedule:f,setNotifyFunction:C=>{r=C},setBatchNotifyFunction:C=>{s=C},setScheduler:n}}var ee=gi(),We,qr,os=(qr=class{constructor(){M(this,We)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),oi(this.gcTime)&&j(this,We,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Tt?1/0:5*60*1e3))}clearGcTimeout(){l(this,We)&&(clearTimeout(l(this,We)),j(this,We,void 0))}},We=new WeakMap,qr),ot,ut,de,te,gt,Ke,pe,Ee,Ir,bi=(Ir=class extends os{constructor(e){super();M(this,pe);M(this,ot);M(this,ut);M(this,de);M(this,te);M(this,gt);M(this,Ke);j(this,Ke,!1),j(this,gt,e.defaultOptions),this.setOptions(e.options),this.observers=[],j(this,de,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,j(this,ot,e.state||xi(this.options)),this.state=l(this,ot),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=l(this,te))==null?void 0:e.promise}setOptions(e){this.options={...l(this,gt),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&l(this,de).remove(this)}setData(e,r){const s=di(this.state.data,e,this.options);return B(this,pe,Ee).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(e,r){B(this,pe,Ee).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var s,i;const r=(s=l(this,te))==null?void 0:s.promise;return(i=l(this,te))==null||i.cancel(e),r?r.then(ye).catch(ye):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(l(this,ot))}isActive(){return this.observers.some(e=>li(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!ui(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=l(this,te))==null||r.continue()}onOnline(){var r;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=l(this,te))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),l(this,de).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(l(this,te)&&(l(this,Ke)?l(this,te).cancel({revert:!0}):l(this,te).cancelRetry()),this.scheduleGc()),l(this,de).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||B(this,pe,Ee).call(this,{type:"invalidate"})}fetch(e,r){var w,x,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(l(this,te))return l(this,te).continueRetry(),l(this,te).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(C=>C.options.queryFn);d&&this.setOptions(d.options)}const s=new AbortController,i=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(j(this,Ke,!0),s.signal)})},n=()=>{const d=rs(this.options,r),C={queryKey:this.queryKey,meta:this.meta};return i(C),j(this,Ke,!1),this.options.persister?this.options.persister(d,C,this):d(C)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:n};i(o),(w=this.options.behavior)==null||w.onFetch(o,this),j(this,ut,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((x=o.fetchOptions)==null?void 0:x.meta))&&B(this,pe,Ee).call(this,{type:"fetch",meta:(p=o.fetchOptions)==null?void 0:p.meta});const f=d=>{var C,A,k,q;Zt(d)&&d.silent||B(this,pe,Ee).call(this,{type:"error",error:d}),Zt(d)||((A=(C=l(this,de).config).onError)==null||A.call(C,d,this),(q=(k=l(this,de).config).onSettled)==null||q.call(k,this.state.data,d,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return j(this,te,as({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:s.abort.bind(s),onSuccess:d=>{var C,A,k,q;if(d===void 0){f(new Error(`${this.queryHash} data is undefined`));return}this.setData(d),(A=(C=l(this,de).config).onSuccess)==null||A.call(C,d,this),(q=(k=l(this,de).config).onSettled)==null||q.call(k,d,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:f,onFail:(d,C)=>{B(this,pe,Ee).call(this,{type:"failed",failureCount:d,error:C})},onPause:()=>{B(this,pe,Ee).call(this,{type:"pause"})},onContinue:()=>{B(this,pe,Ee).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),l(this,te).start()}},ot=new WeakMap,ut=new WeakMap,de=new WeakMap,te=new WeakMap,gt=new WeakMap,Ke=new WeakMap,pe=new WeakSet,Ee=function(e){const r=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...wi(s.data,this.options),fetchMeta:e.meta??null};case"success":return{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Zt(i)&&i.revert&&l(this,ut)?{...l(this,ut),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=r(this.state),ee.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),l(this,de).notify({query:this,type:"updated",action:e})})},Ir);function wi(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:is(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function xi(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,s=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ge,Ur,Ci=(Ur=class extends wt{constructor(e={}){super();M(this,ge);this.config=e,j(this,ge,new Map)}build(e,r,s){const i=r.queryKey,n=r.queryHash??ir(i,r);let o=this.get(n);return o||(o=new bi({cache:this,queryKey:i,queryHash:n,options:e.defaultQueryOptions(r),state:s,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){l(this,ge).has(e.queryHash)||(l(this,ge).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=l(this,ge).get(e.queryHash);r&&(e.destroy(),r===e&&l(this,ge).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ee.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return l(this,ge).get(e)}getAll(){return[...l(this,ge).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(s=>Cr(r,s))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(s=>Cr(e,s)):r}notify(e){ee.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){ee.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ee.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ge=new WeakMap,Ur),be,re,$e,we,Oe,Qr,_i=(Qr=class extends os{constructor(e){super();M(this,we);M(this,be);M(this,re);M(this,$e);this.mutationId=e.mutationId,j(this,re,e.mutationCache),j(this,be,[]),this.state=e.state||us(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){l(this,be).includes(e)||(l(this,be).push(e),this.clearGcTimeout(),l(this,re).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){j(this,be,l(this,be).filter(r=>r!==e)),this.scheduleGc(),l(this,re).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){l(this,be).length||(this.state.status==="pending"?this.scheduleGc():l(this,re).remove(this))}continue(){var e;return((e=l(this,$e))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,n,o,f,w,x,p,d,C,A,k,q,L,S,b,F,D,E,I,P;j(this,$e,as({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(V,U)=>{B(this,we,Oe).call(this,{type:"failed",failureCount:V,error:U})},onPause:()=>{B(this,we,Oe).call(this,{type:"pause"})},onContinue:()=>{B(this,we,Oe).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>l(this,re).canRun(this)}));const r=this.state.status==="pending",s=!l(this,$e).canStart();try{if(!r){B(this,we,Oe).call(this,{type:"pending",variables:e,isPaused:s}),await((n=(i=l(this,re).config).onMutate)==null?void 0:n.call(i,e,this));const U=await((f=(o=this.options).onMutate)==null?void 0:f.call(o,e));U!==this.state.context&&B(this,we,Oe).call(this,{type:"pending",context:U,variables:e,isPaused:s})}const V=await l(this,$e).start();return await((x=(w=l(this,re).config).onSuccess)==null?void 0:x.call(w,V,e,this.state.context,this)),await((d=(p=this.options).onSuccess)==null?void 0:d.call(p,V,e,this.state.context)),await((A=(C=l(this,re).config).onSettled)==null?void 0:A.call(C,V,null,this.state.variables,this.state.context,this)),await((q=(k=this.options).onSettled)==null?void 0:q.call(k,V,null,e,this.state.context)),B(this,we,Oe).call(this,{type:"success",data:V}),V}catch(V){try{throw await((S=(L=l(this,re).config).onError)==null?void 0:S.call(L,V,e,this.state.context,this)),await((F=(b=this.options).onError)==null?void 0:F.call(b,V,e,this.state.context)),await((E=(D=l(this,re).config).onSettled)==null?void 0:E.call(D,void 0,V,this.state.variables,this.state.context,this)),await((P=(I=this.options).onSettled)==null?void 0:P.call(I,void 0,V,e,this.state.context)),V}finally{B(this,we,Oe).call(this,{type:"error",error:V})}}finally{l(this,re).runNext(this)}}},be=new WeakMap,re=new WeakMap,$e=new WeakMap,we=new WeakSet,Oe=function(e){const r=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ee.batch(()=>{l(this,be).forEach(s=>{s.onMutationUpdate(e)}),l(this,re).notify({mutation:this,type:"updated",action:e})})},Qr);function us(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ue,bt,Hr,Si=(Hr=class extends wt{constructor(e={}){super();M(this,ue);M(this,bt);this.config=e,j(this,ue,new Map),j(this,bt,Date.now())}build(e,r,s){const i=new _i({mutationCache:this,mutationId:++Et(this,bt)._,options:e.defaultMutationOptions(r),state:s});return this.add(i),i}add(e){const r=Ft(e),s=l(this,ue).get(r)??[];s.push(e),l(this,ue).set(r,s),this.notify({type:"added",mutation:e})}remove(e){var s;const r=Ft(e);if(l(this,ue).has(r)){const i=(s=l(this,ue).get(r))==null?void 0:s.filter(n=>n!==e);i&&(i.length===0?l(this,ue).delete(r):l(this,ue).set(r,i))}this.notify({type:"removed",mutation:e})}canRun(e){var s;const r=(s=l(this,ue).get(Ft(e)))==null?void 0:s.find(i=>i.state.status==="pending");return!r||r===e}runNext(e){var s;const r=(s=l(this,ue).get(Ft(e)))==null?void 0:s.find(i=>i!==e&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){ee.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...l(this,ue).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(s=>_r(r,s))}findAll(e={}){return this.getAll().filter(r=>_r(e,r))}notify(e){ee.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return ee.batch(()=>Promise.all(e.map(r=>r.continue().catch(ye))))}},ue=new WeakMap,bt=new WeakMap,Hr);function Ft(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function Ei(t){return{onFetch:(e,r)=>{const s=async()=>{var k,q,L,S,b;const i=e.options,n=(L=(q=(k=e.fetchOptions)==null?void 0:k.meta)==null?void 0:q.fetchMore)==null?void 0:L.direction,o=((S=e.state.data)==null?void 0:S.pages)||[],f=((b=e.state.data)==null?void 0:b.pageParams)||[],w={pages:[],pageParams:[]};let x=!1;const p=F=>{Object.defineProperty(F,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},d=rs(e.options,e.fetchOptions),C=async(F,D,E)=>{if(x)return Promise.reject();if(D==null&&F.pages.length)return Promise.resolve(F);const I={queryKey:e.queryKey,pageParam:D,direction:E?"backward":"forward",meta:e.options.meta};p(I);const P=await d(I),{maxPages:V}=e.options,U=E?yi:hi;return{pages:U(F.pages,P,V),pageParams:U(F.pageParams,D,V)}};let A;if(n&&o.length){const F=n==="backward",D=F?Ai:Ar,E={pages:o,pageParams:f},I=D(i,E);A=await C(E,I,F)}else{A=await C(w,f[0]??i.initialPageParam);const F=t??o.length;for(let D=1;D<F;D++){const E=Ar(i,A);A=await C(A,E)}}return A};e.options.persister?e.fetchFn=()=>{var i,n;return(n=(i=e.options).persister)==null?void 0:n.call(i,s,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=s}}}function Ar(t,{pages:e,pageParams:r}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,r[s],r):void 0}function Ai(t,{pages:e,pageParams:r}){var s;return e.length>0?(s=t.getPreviousPageParam)==null?void 0:s.call(t,e[0],e,r[0],r):void 0}var Q,De,Pe,lt,ct,Ne,ft,dt,Gr,Fi=(Gr=class{constructor(t={}){M(this,Q);M(this,De);M(this,Pe);M(this,lt);M(this,ct);M(this,Ne);M(this,ft);M(this,dt);j(this,Q,t.queryCache||new Ci),j(this,De,t.mutationCache||new Si),j(this,Pe,t.defaultOptions||{}),j(this,lt,new Map),j(this,ct,new Map),j(this,Ne,0)}mount(){Et(this,Ne)._++,l(this,Ne)===1&&(j(this,ft,ss.subscribe(async t=>{t&&(await this.resumePausedMutations(),l(this,Q).onFocus())})),j(this,dt,Mt.subscribe(async t=>{t&&(await this.resumePausedMutations(),l(this,Q).onOnline())})))}unmount(){var t,e;Et(this,Ne)._--,l(this,Ne)===0&&((t=l(this,ft))==null||t.call(this),j(this,ft,void 0),(e=l(this,dt))==null||e.call(this),j(this,dt,void 0))}isFetching(t){return l(this,Q).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return l(this,De).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=l(this,Q).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),s=l(this,Q).build(this,r);return t.revalidateIfStale&&s.isStaleByTime(xr(r.staleTime,s))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return l(this,Q).findAll(t).map(({queryKey:e,state:r})=>{const s=r.data;return[e,s]})}setQueryData(t,e,r){const s=this.defaultQueryOptions({queryKey:t}),i=l(this,Q).get(s.queryHash),n=i==null?void 0:i.state.data,o=ai(e,n);if(o!==void 0)return l(this,Q).build(this,s).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return ee.batch(()=>l(this,Q).findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=l(this,Q).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=l(this,Q);ee.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=l(this,Q),s={type:"active",...t};return ee.batch(()=>(r.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(s,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},s=ee.batch(()=>l(this,Q).findAll(t).map(i=>i.cancel(r)));return Promise.all(s).then(ye).catch(ye)}invalidateQueries(t={},e={}){return ee.batch(()=>{if(l(this,Q).findAll(t).forEach(s=>{s.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},s=ee.batch(()=>l(this,Q).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let n=i.fetch(void 0,r);return r.throwOnError||(n=n.catch(ye)),i.state.fetchStatus==="paused"?Promise.resolve():n}));return Promise.all(s).then(ye)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=l(this,Q).build(this,e);return r.isStaleByTime(xr(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ye).catch(ye)}fetchInfiniteQuery(t){return t.behavior=Ei(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ye).catch(ye)}resumePausedMutations(){return Mt.isOnline()?l(this,De).resumePausedMutations():Promise.resolve()}getQueryCache(){return l(this,Q)}getMutationCache(){return l(this,De)}getDefaultOptions(){return l(this,Pe)}setDefaultOptions(t){j(this,Pe,t)}setQueryDefaults(t,e){l(this,lt).set(Ze(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...l(this,lt).values()];let r={};return e.forEach(s=>{mt(t,s.queryKey)&&(r={...r,...s.defaultOptions})}),r}setMutationDefaults(t,e){l(this,ct).set(Ze(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...l(this,ct).values()];let r={};return e.forEach(s=>{mt(t,s.mutationKey)&&(r={...r,...s.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...l(this,Pe).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=ir(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===ts&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...l(this,Pe).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){l(this,Q).clear(),l(this,De).clear()}},Q=new WeakMap,De=new WeakMap,Pe=new WeakMap,lt=new WeakMap,ct=new WeakMap,Ne=new WeakMap,ft=new WeakMap,dt=new WeakMap,Gr),Le,Te,ne,Ae,Fe,Ot,sr,Br,ji=(Br=class extends wt{constructor(e,r){super();M(this,Fe);M(this,Le);M(this,Te);M(this,ne);M(this,Ae);j(this,Le,e),this.setOptions(r),this.bindMethods(),B(this,Fe,Ot).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var s;const r=this.options;this.options=l(this,Le).defaultMutationOptions(e),ci(this.options,r)||l(this,Le).getMutationCache().notify({type:"observerOptionsUpdated",mutation:l(this,ne),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Ze(r.mutationKey)!==Ze(this.options.mutationKey)?this.reset():((s=l(this,ne))==null?void 0:s.state.status)==="pending"&&l(this,ne).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=l(this,ne))==null||e.removeObserver(this)}onMutationUpdate(e){B(this,Fe,Ot).call(this),B(this,Fe,sr).call(this,e)}getCurrentResult(){return l(this,Te)}reset(){var e;(e=l(this,ne))==null||e.removeObserver(this),j(this,ne,void 0),B(this,Fe,Ot).call(this),B(this,Fe,sr).call(this)}mutate(e,r){var s;return j(this,Ae,r),(s=l(this,ne))==null||s.removeObserver(this),j(this,ne,l(this,Le).getMutationCache().build(l(this,Le),this.options)),l(this,ne).addObserver(this),l(this,ne).execute(e)}},Le=new WeakMap,Te=new WeakMap,ne=new WeakMap,Ae=new WeakMap,Fe=new WeakSet,Ot=function(){var r;const e=((r=l(this,ne))==null?void 0:r.state)??us();j(this,Te,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},sr=function(e){ee.batch(()=>{var r,s,i,n,o,f,w,x;if(l(this,Ae)&&this.hasListeners()){const p=l(this,Te).variables,d=l(this,Te).context;(e==null?void 0:e.type)==="success"?((s=(r=l(this,Ae)).onSuccess)==null||s.call(r,e.data,p,d),(n=(i=l(this,Ae)).onSettled)==null||n.call(i,e.data,null,p,d)):(e==null?void 0:e.type)==="error"&&((f=(o=l(this,Ae)).onError)==null||f.call(o,e.error,p,d),(x=(w=l(this,Ae)).onSettled)==null||x.call(w,void 0,e.error,p,d))}this.listeners.forEach(p=>{p(l(this,Te))})})},Br),Oi=H.createContext(void 0),Vi=t=>{const e=H.useContext(Oi);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e};function ki(t,e){return typeof t=="function"?t(...e):!!t}function Ri(){}function Mi(t,e){const r=Vi(e),[s]=H.useState(()=>new ji(r,t));H.useEffect(()=>{s.setOptions(t)},[s,t]);const i=H.useSyncExternalStore(H.useCallback(o=>s.subscribe(ee.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),n=H.useCallback((o,f)=>{s.mutate(o,f).catch(Ri)},[s]);if(i.error&&ki(s.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:n,mutateAsync:i.mutate}}var xt=t=>t.type==="checkbox",st=t=>t instanceof Date,se=t=>t==null;const ls=t=>typeof t=="object";var Y=t=>!se(t)&&!Array.isArray(t)&&ls(t)&&!st(t),Di=t=>Y(t)&&t.target?xt(t.target)?t.target.checked:t.target.value:t,Pi=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Ni=(t,e)=>t.has(Pi(e)),Li=t=>{const e=t.constructor&&t.constructor.prototype;return Y(e)&&e.hasOwnProperty("isPrototypeOf")},nr=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ce(t){let e;const r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(nr&&(t instanceof Blob||t instanceof FileList))&&(r||Y(t)))if(e=r?[]:{},!r&&!Li(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=ce(t[s]));else return t;return e}var qt=t=>Array.isArray(t)?t.filter(Boolean):[],W=t=>t===void 0,g=(t,e,r)=>{if(!e||!Y(t))return r;const s=qt(e.split(/[,[\].]+?/)).reduce((i,n)=>se(i)?i:i[n],t);return W(s)||s===t?W(t[e])?r:t[e]:s},ke=t=>typeof t=="boolean",ar=t=>/^\w*$/.test(t),cs=t=>qt(t.replace(/["|']|\]/g,"").split(/\.|\[/)),T=(t,e,r)=>{let s=-1;const i=ar(e)?[e]:cs(e),n=i.length,o=n-1;for(;++s<n;){const f=i[s];let w=r;if(s!==o){const x=t[f];w=Y(x)||Array.isArray(x)?x:isNaN(+i[s+1])?{}:[]}if(f==="__proto__")return;t[f]=w,t=t[f]}return t};const Fr={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ve={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Se={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};fe.createContext(null);var Ti=(t,e,r,s=!0)=>{const i={defaultValues:e._defaultValues};for(const n in t)Object.defineProperty(i,n,{get:()=>{const o=n;return e._proxyFormState[o]!==ve.all&&(e._proxyFormState[o]=!s||ve.all),t[o]}});return i},le=t=>Y(t)&&!Object.keys(t).length,qi=(t,e,r,s)=>{r(t);const{name:i,...n}=t;return le(n)||Object.keys(n).length>=Object.keys(e).length||Object.keys(n).find(o=>e[o]===ve.all)},Vt=t=>Array.isArray(t)?t:[t];function Ii(t){const e=fe.useRef(t);e.current=t,fe.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}var Ce=t=>typeof t=="string",Ui=(t,e,r,s,i)=>Ce(t)?(s&&e.watch.add(t),g(r,t,i)):Array.isArray(t)?t.map(n=>(s&&e.watch.add(n),g(r,n))):(s&&(e.watchAll=!0),r),fs=(t,e,r,s,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[s]:i||!0}}:{},jr=t=>({isOnSubmit:!t||t===ve.onSubmit,isOnBlur:t===ve.onBlur,isOnChange:t===ve.onChange,isOnAll:t===ve.all,isOnTouch:t===ve.onTouched}),Or=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const vt=(t,e,r,s)=>{for(const i of r||Object.keys(t)){const n=g(t,i);if(n){const{_f:o,...f}=n;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!s)break;if(o.ref&&e(o.ref,o.name)&&!s)break;vt(f,e)}else Y(f)&&vt(f,e)}}};var Qi=(t,e,r)=>{const s=Vt(g(t,r));return T(s,"root",e[r]),T(t,r,s),t},or=t=>t.type==="file",qe=t=>typeof t=="function",Dt=t=>{if(!nr)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},kt=t=>Ce(t),ur=t=>t.type==="radio",Pt=t=>t instanceof RegExp;const Vr={value:!1,isValid:!1},kr={value:!0,isValid:!0};var ds=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!W(t[0].attributes.value)?W(t[0].value)||t[0].value===""?kr:{value:t[0].value,isValid:!0}:kr:Vr}return Vr};const Rr={isValid:!1,value:null};var hs=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,Rr):Rr;function Mr(t,e,r="validate"){if(kt(t)||Array.isArray(t)&&t.every(kt)||ke(t)&&!t)return{type:r,message:kt(t)?t:"",ref:e}}var tt=t=>Y(t)&&!Pt(t)?t:{value:t,message:""},Dr=async(t,e,r,s,i)=>{const{ref:n,refs:o,required:f,maxLength:w,minLength:x,min:p,max:d,pattern:C,validate:A,name:k,valueAsNumber:q,mount:L,disabled:S}=t._f,b=g(e,k);if(!L||S)return{};const F=o?o[0]:n,D=O=>{s&&F.reportValidity&&(F.setCustomValidity(ke(O)?"":O||""),F.reportValidity())},E={},I=ur(n),P=xt(n),V=I||P,U=(q||or(n))&&W(n.value)&&W(b)||Dt(n)&&n.value===""||b===""||Array.isArray(b)&&!b.length,K=fs.bind(null,k,r,E),he=(O,R,G,$=Se.maxLength,ae=Se.minLength)=>{const ie=O?R:G;E[k]={type:O?$:ae,message:ie,ref:n,...K(O?$:ae,ie)}};if(i?!Array.isArray(b)||!b.length:f&&(!V&&(U||se(b))||ke(b)&&!b||P&&!ds(o).isValid||I&&!hs(o).isValid)){const{value:O,message:R}=kt(f)?{value:!!f,message:f}:tt(f);if(O&&(E[k]={type:Se.required,message:R,ref:F,...K(Se.required,R)},!r))return D(R),E}if(!U&&(!se(p)||!se(d))){let O,R;const G=tt(d),$=tt(p);if(!se(b)&&!isNaN(b)){const ae=n.valueAsNumber||b&&+b;se(G.value)||(O=ae>G.value),se($.value)||(R=ae<$.value)}else{const ae=n.valueAsDate||new Date(b),ie=_e=>new Date(new Date().toDateString()+" "+_e),J=n.type=="time",Ie=n.type=="week";Ce(G.value)&&b&&(O=J?ie(b)>ie(G.value):Ie?b>G.value:ae>new Date(G.value)),Ce($.value)&&b&&(R=J?ie(b)<ie($.value):Ie?b<$.value:ae<new Date($.value))}if((O||R)&&(he(!!O,G.message,$.message,Se.max,Se.min),!r))return D(E[k].message),E}if((w||x)&&!U&&(Ce(b)||i&&Array.isArray(b))){const O=tt(w),R=tt(x),G=!se(O.value)&&b.length>+O.value,$=!se(R.value)&&b.length<+R.value;if((G||$)&&(he(G,O.message,R.message),!r))return D(E[k].message),E}if(C&&!U&&Ce(b)){const{value:O,message:R}=tt(C);if(Pt(O)&&!b.match(O)&&(E[k]={type:Se.pattern,message:R,ref:n,...K(Se.pattern,R)},!r))return D(R),E}if(A){if(qe(A)){const O=await A(b,e),R=Mr(O,F);if(R&&(E[k]={...R,...K(Se.validate,R.message)},!r))return D(R.message),E}else if(Y(A)){let O={};for(const R in A){if(!le(O)&&!r)break;const G=Mr(await A[R](b,e),F,R);G&&(O={...G,...K(R,G.message)},D(G.message),r&&(E[k]=O))}if(!le(O)&&(E[k]={ref:F,...O},!r))return E}}return D(!0),E};function Hi(t,e){const r=e.slice(0,-1).length;let s=0;for(;s<r;)t=W(t)?s++:t[e[s++]];return t}function Gi(t){for(const e in t)if(t.hasOwnProperty(e)&&!W(t[e]))return!1;return!0}function z(t,e){const r=Array.isArray(e)?e:ar(e)?[e]:cs(e),s=r.length===1?t:Hi(t,r),i=r.length-1,n=r[i];return s&&delete s[n],i!==0&&(Y(s)&&le(s)||Array.isArray(s)&&Gi(s))&&z(t,r.slice(0,-1)),t}var Xt=()=>{let t=[];return{get observers(){return t},next:i=>{for(const n of t)n.next&&n.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(n=>n!==i)}}),unsubscribe:()=>{t=[]}}},Nt=t=>se(t)||!ls(t);function Ge(t,e){if(Nt(t)||Nt(e))return t===e;if(st(t)&&st(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;for(const i of r){const n=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const o=e[i];if(st(n)&&st(o)||Y(n)&&Y(o)||Array.isArray(n)&&Array.isArray(o)?!Ge(n,o):n!==o)return!1}}return!0}var ys=t=>t.type==="select-multiple",Bi=t=>ur(t)||xt(t),zt=t=>Dt(t)&&t.isConnected,ps=t=>{for(const e in t)if(qe(t[e]))return!0;return!1};function Lt(t,e={}){const r=Array.isArray(t);if(Y(t)||r)for(const s in t)Array.isArray(t[s])||Y(t[s])&&!ps(t[s])?(e[s]=Array.isArray(t[s])?[]:{},Lt(t[s],e[s])):se(t[s])||(e[s]=!0);return e}function vs(t,e,r){const s=Array.isArray(t);if(Y(t)||s)for(const i in t)Array.isArray(t[i])||Y(t[i])&&!ps(t[i])?W(e)||Nt(r[i])?r[i]=Array.isArray(t[i])?Lt(t[i],[]):{...Lt(t[i])}:vs(t[i],se(e)?{}:e[i],r[i]):r[i]=!Ge(t[i],e[i]);return r}var jt=(t,e)=>vs(t,e,Lt(e)),ms=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:s})=>W(t)?t:e?t===""?NaN:t&&+t:r&&Ce(t)?new Date(t):s?s(t):t;function Yt(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return or(e)?e.files:ur(e)?hs(t.refs).value:ys(e)?[...e.selectedOptions].map(({value:r})=>r):xt(e)?ds(t.refs).value:ms(W(e.value)?t.ref.value:e.value,t)}var Wi=(t,e,r,s)=>{const i={};for(const n of t){const o=g(e,n);o&&T(i,n,o._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:s}},pt=t=>W(t)?t:Pt(t)?t.source:Y(t)?Pt(t.value)?t.value.source:t.value:t,Ki=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function Pr(t,e,r){const s=g(t,r);if(s||ar(r))return{error:s,name:r};const i=r.split(".");for(;i.length;){const n=i.join("."),o=g(e,n),f=g(t,n);if(o&&!Array.isArray(o)&&r!==n)return{name:r};if(f&&f.type)return{name:n,error:f};i.pop()}return{name:r}}var $i=(t,e,r,s,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?s.isOnBlur:i.isOnBlur)?!t:(r?s.isOnChange:i.isOnChange)?t:!0,Zi=(t,e)=>!qt(g(t,e)).length&&z(t,e);const Xi={mode:ve.onSubmit,reValidateMode:ve.onChange,shouldFocusError:!0};function zi(t={}){let e={...Xi,...t},r={submitCount:0,isDirty:!1,isLoading:qe(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},s={},i=Y(e.defaultValues)||Y(e.values)?ce(e.defaultValues||e.values)||{}:{},n=e.shouldUnregister?{}:ce(i),o={action:!1,mount:!1,watch:!1},f={mount:new Set,unMount:new Set,array:new Set,watch:new Set},w,x=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:Xt(),array:Xt(),state:Xt()},C=jr(e.mode),A=jr(e.reValidateMode),k=e.criteriaMode===ve.all,q=a=>u=>{clearTimeout(x),x=setTimeout(a,u)},L=async a=>{if(p.isValid||a){const u=e.resolver?le((await V()).errors):await K(s,!0);u!==r.isValid&&d.state.next({isValid:u})}},S=(a,u)=>{(p.isValidating||p.validatingFields)&&((a||Array.from(f.mount)).forEach(c=>{c&&(u?T(r.validatingFields,c,u):z(r.validatingFields,c))}),d.state.next({validatingFields:r.validatingFields,isValidating:!le(r.validatingFields)}))},b=(a,u=[],c,m,v=!0,y=!0)=>{if(m&&c){if(o.action=!0,y&&Array.isArray(g(s,a))){const _=c(g(s,a),m.argA,m.argB);v&&T(s,a,_)}if(y&&Array.isArray(g(r.errors,a))){const _=c(g(r.errors,a),m.argA,m.argB);v&&T(r.errors,a,_),Zi(r.errors,a)}if(p.touchedFields&&y&&Array.isArray(g(r.touchedFields,a))){const _=c(g(r.touchedFields,a),m.argA,m.argB);v&&T(r.touchedFields,a,_)}p.dirtyFields&&(r.dirtyFields=jt(i,n)),d.state.next({name:a,isDirty:O(a,u),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else T(n,a,u)},F=(a,u)=>{T(r.errors,a,u),d.state.next({errors:r.errors})},D=a=>{r.errors=a,d.state.next({errors:r.errors,isValid:!1})},E=(a,u,c,m)=>{const v=g(s,a);if(v){const y=g(n,a,W(c)?g(i,a):c);W(y)||m&&m.defaultChecked||u?T(n,a,u?y:Yt(v._f)):$(a,y),o.mount&&L()}},I=(a,u,c,m,v)=>{let y=!1,_=!1;const N={name:a},Z=!!(g(s,a)&&g(s,a)._f&&g(s,a)._f.disabled);if(!c||m){p.isDirty&&(_=r.isDirty,r.isDirty=N.isDirty=O(),y=_!==N.isDirty);const oe=Z||Ge(g(i,a),u);_=!!(!Z&&g(r.dirtyFields,a)),oe||Z?z(r.dirtyFields,a):T(r.dirtyFields,a,!0),N.dirtyFields=r.dirtyFields,y=y||p.dirtyFields&&_!==!oe}if(c){const oe=g(r.touchedFields,a);oe||(T(r.touchedFields,a,c),N.touchedFields=r.touchedFields,y=y||p.touchedFields&&oe!==c)}return y&&v&&d.state.next(N),y?N:{}},P=(a,u,c,m)=>{const v=g(r.errors,a),y=p.isValid&&ke(u)&&r.isValid!==u;if(t.delayError&&c?(w=q(()=>F(a,c)),w(t.delayError)):(clearTimeout(x),w=null,c?T(r.errors,a,c):z(r.errors,a)),(c?!Ge(v,c):v)||!le(m)||y){const _={...m,...y&&ke(u)?{isValid:u}:{},errors:r.errors,name:a};r={...r,..._},d.state.next(_)}},V=async a=>{S(a,!0);const u=await e.resolver(n,e.context,Wi(a||f.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return S(a),u},U=async a=>{const{errors:u}=await V(a);if(a)for(const c of a){const m=g(u,c);m?T(r.errors,c,m):z(r.errors,c)}else r.errors=u;return u},K=async(a,u,c={valid:!0})=>{for(const m in a){const v=a[m];if(v){const{_f:y,..._}=v;if(y){const N=f.array.has(y.name);S([m],!0);const Z=await Dr(v,n,k,e.shouldUseNativeValidation&&!u,N);if(S([m]),Z[y.name]&&(c.valid=!1,u))break;!u&&(g(Z,y.name)?N?Qi(r.errors,Z,y.name):T(r.errors,y.name,Z[y.name]):z(r.errors,y.name))}_&&await K(_,u,c)}}return c.valid},he=()=>{for(const a of f.unMount){const u=g(s,a);u&&(u._f.refs?u._f.refs.every(c=>!zt(c)):!zt(u._f.ref))&&Ue(a)}f.unMount=new Set},O=(a,u)=>(a&&u&&T(n,a,u),!Ge(Ct(),i)),R=(a,u,c)=>Ui(a,f,{...o.mount?n:W(u)?i:Ce(a)?{[a]:u}:u},c,u),G=a=>qt(g(o.mount?n:i,a,t.shouldUnregister?g(i,a,[]):[])),$=(a,u,c={})=>{const m=g(s,a);let v=u;if(m){const y=m._f;y&&(!y.disabled&&T(n,a,ms(u,y)),v=Dt(y.ref)&&se(u)?"":u,ys(y.ref)?[...y.ref.options].forEach(_=>_.selected=v.includes(_.value)):y.refs?xt(y.ref)?y.refs.length>1?y.refs.forEach(_=>(!_.defaultChecked||!_.disabled)&&(_.checked=Array.isArray(v)?!!v.find(N=>N===_.value):v===_.value)):y.refs[0]&&(y.refs[0].checked=!!v):y.refs.forEach(_=>_.checked=_.value===v):or(y.ref)?y.ref.value="":(y.ref.value=v,y.ref.type||d.values.next({name:a,values:{...n}})))}(c.shouldDirty||c.shouldTouch)&&I(a,v,c.shouldTouch,c.shouldDirty,!0),c.shouldValidate&&_e(a)},ae=(a,u,c)=>{for(const m in u){const v=u[m],y=`${a}.${m}`,_=g(s,y);(f.array.has(a)||!Nt(v)||_&&!_._f)&&!st(v)?ae(y,v,c):$(y,v,c)}},ie=(a,u,c={})=>{const m=g(s,a),v=f.array.has(a),y=ce(u);T(n,a,y),v?(d.array.next({name:a,values:{...n}}),(p.isDirty||p.dirtyFields)&&c.shouldDirty&&d.state.next({name:a,dirtyFields:jt(i,n),isDirty:O(a,y)})):m&&!m._f&&!se(y)?ae(a,y,c):$(a,y,c),Or(a,f)&&d.state.next({...r}),d.values.next({name:o.mount?a:void 0,values:{...n}})},J=async a=>{o.mount=!0;const u=a.target;let c=u.name,m=!0;const v=g(s,c),y=()=>u.type?Yt(v._f):Di(a),_=N=>{m=Number.isNaN(N)||N===g(n,c,N)};if(v){let N,Z;const oe=y(),et=a.type===Fr.BLUR||a.type===Fr.FOCUS_OUT,bs=!Ki(v._f)&&!e.resolver&&!g(r.errors,c)&&!v._f.deps||$i(et,g(r.touchedFields,c),r.isSubmitted,A,C),Gt=Or(c,f,et);T(n,c,oe),et?(v._f.onBlur&&v._f.onBlur(a),w&&w(0)):v._f.onChange&&v._f.onChange(a);const Bt=I(c,oe,et,!1),ws=!le(Bt)||Gt;if(!et&&d.values.next({name:c,type:a.type,values:{...n}}),bs)return p.isValid&&L(),ws&&d.state.next({name:c,...Gt?{}:Bt});if(!et&&Gt&&d.state.next({...r}),e.resolver){const{errors:cr}=await V([c]);if(_(oe),m){const xs=Pr(r.errors,s,c),fr=Pr(cr,s,xs.name||c);N=fr.error,c=fr.name,Z=le(cr)}}else S([c],!0),N=(await Dr(v,n,k,e.shouldUseNativeValidation))[c],S([c]),_(oe),m&&(N?Z=!1:p.isValid&&(Z=await K(s,!0)));m&&(v._f.deps&&_e(v._f.deps),P(c,Z,N,Bt))}},Ie=(a,u)=>{if(g(r.errors,u)&&a.focus)return a.focus(),1},_e=async(a,u={})=>{let c,m;const v=Vt(a);if(e.resolver){const y=await U(W(a)?a:v);c=le(y),m=a?!v.some(_=>g(y,_)):c}else a?(m=(await Promise.all(v.map(async y=>{const _=g(s,y);return await K(_&&_._f?{[y]:_}:_)}))).every(Boolean),!(!m&&!r.isValid)&&L()):m=c=await K(s);return d.state.next({...!Ce(a)||p.isValid&&c!==r.isValid?{}:{name:a},...e.resolver||!a?{isValid:c}:{},errors:r.errors}),u.shouldFocus&&!m&&vt(s,Ie,a?v:f.mount),m},Ct=a=>{const u={...o.mount?n:i};return W(a)?u:Ce(a)?g(u,a):a.map(c=>g(u,c))},It=(a,u)=>({invalid:!!g((u||r).errors,a),isDirty:!!g((u||r).dirtyFields,a),error:g((u||r).errors,a),isValidating:!!g(r.validatingFields,a),isTouched:!!g((u||r).touchedFields,a)}),yt=a=>{a&&Vt(a).forEach(u=>z(r.errors,u)),d.state.next({errors:a?r.errors:{}})},Ut=(a,u,c)=>{const m=(g(s,a,{_f:{}})._f||{}).ref,v=g(r.errors,a)||{},{ref:y,message:_,type:N,...Z}=v;T(r.errors,a,{...Z,...u,ref:m}),d.state.next({name:a,errors:r.errors,isValid:!1}),c&&c.shouldFocus&&m&&m.focus&&m.focus()},Xe=(a,u)=>qe(a)?d.values.subscribe({next:c=>a(R(void 0,u),c)}):R(a,u,!0),Ue=(a,u={})=>{for(const c of a?Vt(a):f.mount)f.mount.delete(c),f.array.delete(c),u.keepValue||(z(s,c),z(n,c)),!u.keepError&&z(r.errors,c),!u.keepDirty&&z(r.dirtyFields,c),!u.keepTouched&&z(r.touchedFields,c),!u.keepIsValidating&&z(r.validatingFields,c),!e.shouldUnregister&&!u.keepDefaultValue&&z(i,c);d.values.next({values:{...n}}),d.state.next({...r,...u.keepDirty?{isDirty:O()}:{}}),!u.keepIsValid&&L()},ze=({disabled:a,name:u,field:c,fields:m,value:v})=>{if(ke(a)&&o.mount||a){const y=a?void 0:W(v)?Yt(c?c._f:g(m,u)._f):v;T(n,u,y),I(u,y,!1,!1,!0)}},je=(a,u={})=>{let c=g(s,a);const m=ke(u.disabled);return T(s,a,{...c||{},_f:{...c&&c._f?c._f:{ref:{name:a}},name:a,mount:!0,...u}}),f.mount.add(a),c?ze({field:c,disabled:u.disabled,name:a,value:u.value}):E(a,!0,u.value),{...m?{disabled:u.disabled}:{},...e.progressive?{required:!!u.required,min:pt(u.min),max:pt(u.max),minLength:pt(u.minLength),maxLength:pt(u.maxLength),pattern:pt(u.pattern)}:{},name:a,onChange:J,onBlur:J,ref:v=>{if(v){je(a,u),c=g(s,a);const y=W(v.value)&&v.querySelectorAll&&v.querySelectorAll("input,select,textarea")[0]||v,_=Bi(y),N=c._f.refs||[];if(_?N.find(Z=>Z===y):y===c._f.ref)return;T(s,a,{_f:{...c._f,..._?{refs:[...N.filter(zt),y,...Array.isArray(g(i,a))?[{}]:[]],ref:{type:y.type,name:a}}:{ref:y}}}),E(a,!1,void 0,y)}else c=g(s,a,{}),c._f&&(c._f.mount=!1),(e.shouldUnregister||u.shouldUnregister)&&!(Ni(f.array,a)&&o.action)&&f.unMount.add(a)}}},_t=()=>e.shouldFocusError&&vt(s,Ie,f.mount),St=a=>{ke(a)&&(d.state.next({disabled:a}),vt(s,(u,c)=>{const m=g(s,c);m&&(u.disabled=m._f.disabled||a,Array.isArray(m._f.refs)&&m._f.refs.forEach(v=>{v.disabled=m._f.disabled||a}))},0,!1))},Ye=(a,u)=>async c=>{let m;c&&(c.preventDefault&&c.preventDefault(),c.persist&&c.persist());let v=ce(n);if(d.state.next({isSubmitting:!0}),e.resolver){const{errors:y,values:_}=await V();r.errors=y,v=_}else await K(s);if(z(r.errors,"root"),le(r.errors)){d.state.next({errors:{}});try{await a(v,c)}catch(y){m=y}}else u&&await u({...r.errors},c),_t(),setTimeout(_t);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:le(r.errors)&&!m,submitCount:r.submitCount+1,errors:r.errors}),m)throw m},Qt=(a,u={})=>{g(s,a)&&(W(u.defaultValue)?ie(a,ce(g(i,a))):(ie(a,u.defaultValue),T(i,a,ce(u.defaultValue))),u.keepTouched||z(r.touchedFields,a),u.keepDirty||(z(r.dirtyFields,a),r.isDirty=u.defaultValue?O(a,ce(g(i,a))):O()),u.keepError||(z(r.errors,a),p.isValid&&L()),d.state.next({...r}))},Je=(a,u={})=>{const c=a?ce(a):i,m=ce(c),v=le(a),y=v?i:m;if(u.keepDefaultValues||(i=c),!u.keepValues){if(u.keepDirtyValues)for(const _ of f.mount)g(r.dirtyFields,_)?T(y,_,g(n,_)):ie(_,g(y,_));else{if(nr&&W(a))for(const _ of f.mount){const N=g(s,_);if(N&&N._f){const Z=Array.isArray(N._f.refs)?N._f.refs[0]:N._f.ref;if(Dt(Z)){const oe=Z.closest("form");if(oe){oe.reset();break}}}}s={}}n=t.shouldUnregister?u.keepDefaultValues?ce(i):{}:ce(y),d.array.next({values:{...y}}),d.values.next({values:{...y}})}f={mount:u.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!p.isValid||!!u.keepIsValid||!!u.keepDirtyValues,o.watch=!!t.shouldUnregister,d.state.next({submitCount:u.keepSubmitCount?r.submitCount:0,isDirty:v?!1:u.keepDirty?r.isDirty:!!(u.keepDefaultValues&&!Ge(a,i)),isSubmitted:u.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:v?{}:u.keepDirtyValues?u.keepDefaultValues&&n?jt(i,n):r.dirtyFields:u.keepDefaultValues&&a?jt(i,a):u.keepDirty?r.dirtyFields:{},touchedFields:u.keepTouched?r.touchedFields:{},errors:u.keepErrors?r.errors:{},isSubmitSuccessful:u.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Qe=(a,u)=>Je(qe(a)?a(n):a,u);return{control:{register:je,unregister:Ue,getFieldState:It,handleSubmit:Ye,setError:Ut,_executeSchema:V,_getWatch:R,_getDirty:O,_updateValid:L,_removeUnmounted:he,_updateFieldArray:b,_updateDisabledField:ze,_getFieldArray:G,_reset:Je,_resetDefaultValues:()=>qe(e.defaultValues)&&e.defaultValues().then(a=>{Qe(a,e.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:a=>{r={...r,...a}},_disableForm:St,_subjects:d,_proxyFormState:p,_setErrors:D,get _fields(){return s},get _formValues(){return n},get _state(){return o},set _state(a){o=a},get _defaultValues(){return i},get _names(){return f},set _names(a){f=a},get _formState(){return r},set _formState(a){r=a},get _options(){return e},set _options(a){e={...e,...a}}},trigger:_e,register:je,handleSubmit:Ye,watch:Xe,setValue:ie,getValues:Ct,reset:Qe,resetField:Qt,clearErrors:yt,unregister:Ue,setError:Ut,setFocus:(a,u={})=>{const c=g(s,a),m=c&&c._f;if(m){const v=m.refs?m.refs[0]:m.ref;v.focus&&(v.focus(),u.shouldSelect&&v.select())}},getFieldState:It}}function Yi(t={}){const e=fe.useRef(),r=fe.useRef(),[s,i]=fe.useState({isDirty:!1,isValidating:!1,isLoading:qe(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:qe(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...zi(t),formState:s});const n=e.current.control;return n._options=t,Ii({subject:n._subjects.state,next:o=>{qi(o,n._proxyFormState,n._updateFormState)&&i({...n._formState})}}),fe.useEffect(()=>n._disableForm(t.disabled),[n,t.disabled]),fe.useEffect(()=>{if(n._proxyFormState.isDirty){const o=n._getDirty();o!==s.isDirty&&n._subjects.state.next({isDirty:o})}},[n,s.isDirty]),fe.useEffect(()=>{t.values&&!Ge(t.values,r.current)?(n._reset(t.values,n._options.resetOptions),r.current=t.values,i(o=>({...o}))):n._resetDefaultValues()},[t.values,n]),fe.useEffect(()=>{t.errors&&n._setErrors(t.errors)},[t.errors,n]),fe.useEffect(()=>{n._state.mount||(n._updateValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),fe.useEffect(()=>{t.shouldUnregister&&n._subjects.values.next({values:n._getWatch()})},[t.shouldUnregister,n]),e.current.formState=Ti(s,n),e.current}const Nr=(t,e,r)=>{if(t&&"reportValidity"in t){const s=g(r,e);t.setCustomValidity(s&&s.message||""),t.reportValidity()}},gs=(t,e)=>{for(const r in e.fields){const s=e.fields[r];s&&s.ref&&"reportValidity"in s.ref?Nr(s.ref,r,t):s.refs&&s.refs.forEach(i=>Nr(i,r,t))}},Ji=(t,e)=>{e.shouldUseNativeValidation&&gs(t,e);const r={};for(const s in t){const i=g(e.fields,s),n=Object.assign(t[s]||{},{ref:i&&i.ref});if(en(e.names||Object.keys(t),s)){const o=Object.assign({},g(r,s));T(o,"root",n),T(r,s,o)}else T(r,s,n)}return r},en=(t,e)=>t.some(r=>r.startsWith(e+"."));var tn=function(t,e){for(var r={};t.length;){var s=t[0],i=s.code,n=s.message,o=s.path.join(".");if(!r[o])if("unionErrors"in s){var f=s.unionErrors[0].errors[0];r[o]={message:f.message,type:f.code}}else r[o]={message:n,type:i};if("unionErrors"in s&&s.unionErrors.forEach(function(p){return p.errors.forEach(function(d){return t.push(d)})}),e){var w=r[o].types,x=w&&w[s.code];r[o]=fs(o,e,r,i,x?[].concat(x,s.message):s.message)}t.shift()}return r},rn=function(t,e,r){return r===void 0&&(r={}),function(s,i,n){try{return Promise.resolve(function(o,f){try{var w=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](s,e)).then(function(x){return n.shouldUseNativeValidation&&gs({},n),{errors:{},values:r.raw?s:x}})}catch(x){return f(x)}return w&&w.then?w.then(void 0,f):w}(0,function(o){if(function(f){return Array.isArray(f==null?void 0:f.errors)}(o))return{values:{},errors:Ji(tn(o.errors,!n.shouldUseNativeValidation&&n.criteriaMode==="all"),n)};throw o}))}catch(o){return Promise.reject(o)}}};const sn=new Fi,nn=()=>{const t=Cs(),{register:e,handleSubmit:r,reset:s}=Yi({resolver:rn(Ss)}),i=Mi({mutationFn:o=>_s(o.email,o.password),async onSuccess(){t("/profile")}},sn),n=async o=>{i.mutate(o),s()};return h.jsx("div",{className:"login",children:h.jsxs("form",{className:"login__form",onSubmit:r(n),children:[h.jsxs(He,{children:[h.jsx(xe,{className:"input-icon",src:$r}),h.jsx("input",{type:"text",placeholder:"Электронная почта",...e("email")})]}),h.jsxs(He,{children:[h.jsx(xe,{className:"input-icon",src:er}),h.jsx("input",{type:"text",placeholder:"Пароль",...e("password")})]}),h.jsx("button",{className:"button button-primary login__submit",children:"Войти"})]})})},an=({isOpen:t,handleAuthFormCall:e})=>{const[r,,s]=Wr();return h.jsx("div",{className:t?"auth-modal is-open":"auth-modal",onClick:i=>{i.target.className==="auth-modal is-open"&&e()},children:h.jsxs("div",{className:"auth-modal__inner",children:[h.jsx("button",{className:"auth-modal__close",onClick:()=>e(),children:h.jsx(xe,{src:Ds})}),h.jsx("img",{className:"auth-modal__logo",src:Kr,alt:"Cinema Guide",width:180}),r==="register"?h.jsx(ni,{}):h.jsx(nn,{}),h.jsx("button",{className:"auth-modal__button",onClick:()=>s(),children:r==="register"?"У меня есть пароль":"Регистрация"})]})})},on=()=>{const{currentUser:t}=H.useContext(Es),[,e,r]=Wr();return h.jsxs(h.Fragment,{children:[h.jsx(an,{isOpen:e,handleAuthFormCall:r}),h.jsx("header",{className:"header",children:h.jsxs("div",{className:"container header__container",children:[h.jsx(Jt,{className:"header__logo",to:"/",children:h.jsx("img",{src:Kr,alt:"Cinema Guide",width:240})}),h.jsx("nav",{className:"header__nav nav",children:h.jsxs("ul",{className:"nav__list",children:[h.jsx("li",{children:h.jsx(hr,{className:({isActive:s})=>s?"nav__link nav__link--active":"nav__link",to:"/",children:"Главная"})}),h.jsx("li",{children:h.jsx(hr,{className:({isActive:s})=>s?"nav__link nav__link--active":"nav__link",to:"/genres",children:"Жанры"})})]})}),h.jsx(Ns,{}),t?h.jsx(Jt,{className:"login-btn__link--active",to:"/profile",children:t.surname}):h.jsx("button",{className:"login-btn",onClick:r,children:"Войти"})]})})]})},un=()=>h.jsx("footer",{className:"footer",children:h.jsxs("div",{className:"container footer__container",children:[h.jsxs("p",{className:"footer__sub",children:[h.jsx("span",{className:"footer__sub--company",children:"LLC «Мультимедиа Визион»"}),h.jsx("span",{className:"footer__sub--copy",children:"Все права защищены"})]}),h.jsxs("ul",{className:"socials",children:[h.jsx("li",{className:"socials__icon",children:h.jsx("a",{href:"https://vk.com/nomadcharm",target:"blank",children:h.jsx("img",{className:"socials__img",src:Vs,alt:"Наша страница Вконтакте",width:36,height:36})})}),h.jsx("li",{className:"socials__icon",children:h.jsx("a",{href:"https://www.youtube.com/",target:"blank",children:h.jsx("img",{className:"socials__img",src:Ms,alt:"Наш YouTube канал",width:36,height:36})})}),h.jsx("li",{className:"socials__icon",children:h.jsx("a",{href:"https://ok.ru/",target:"blank",children:h.jsx("img",{className:"socials__img",src:ks,alt:"Наша страница в сетиОдноклассники",width:36,height:36})})}),h.jsx("li",{className:"socials__icon",children:h.jsx("a",{href:"https://t.me/nomadcharm",target:"blank",children:h.jsx("img",{className:"socials__img",src:Rs,alt:"Наш Телеграм канал",width:36,height:36})})})]})]})}),gn=({children:t})=>h.jsxs(h.Fragment,{children:[h.jsx(on,{}),h.jsx("main",{children:t}),h.jsx(un,{})]});export{gn as L,xe as R,hn as a,pn as b,vn as c,yn as d,js as e,dn as f,Mi as g,X as p,sn as q,Os as s,mn as u};
