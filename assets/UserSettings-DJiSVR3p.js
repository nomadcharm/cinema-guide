import{u as c,r as a,A as l,j as s,n as o}from"./index-CccpuDcG.js";import{u as m,q as d}from"./queryClient-9nTjZ4io.js";const h=()=>{const t=c(),{currentUser:e,getCurrentUser:r,clearCurrentUser:n}=a.useContext(l);a.useEffect(()=>{r()},[r]);const i=m({mutationFn:()=>o(),onSuccess(){n(),t("/")}},d),u=()=>{i.mutate()};return s.jsx("div",{className:"user",children:e&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"user__data",children:[s.jsxs("div",{className:"user__info",children:[s.jsxs("p",{className:"user__initials",children:[e.name.substring(0,1),e.surname.substring(0,1)]}),s.jsxs("div",{children:[s.jsx("p",{className:"user__category",children:"Имя Фамилия"}),s.jsxs("p",{className:"user__details",children:[e.name," ",e.surname]})]})]}),s.jsx("div",{className:"user__info user__info--email",children:s.jsxs("div",{children:[s.jsx("p",{className:"user__category",children:"Электронная почта"}),s.jsx("p",{className:"user__details",children:e.email})]})})]}),s.jsx("button",{className:"button button-primary",onClick:()=>u(),children:"Выйти из аккаунта"})]})})};export{h as default};
