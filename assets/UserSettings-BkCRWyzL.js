import{u as c,r as a,A as o,j as s,n as l}from"./index-C83grKiv.js";import{u as m,q as d}from"./queryClient-DPv-Dev1.js";import{B as _}from"./Button-BfdetmQg.js";const g=()=>{const n=c(),{currentUser:e,getCurrentUser:r,clearCurrentUser:i}=a.useContext(o);a.useEffect(()=>{r()},[r]);const t=m({mutationFn:()=>l(),onSuccess(){i(),n("/")}},d),u=()=>{t.mutate()};return s.jsx("div",{className:"user",children:e&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"user__data",children:[s.jsxs("div",{className:"user__info",children:[s.jsxs("p",{className:"user__initials",children:[e.name.substring(0,1),e.surname.substring(0,1)]}),s.jsxs("div",{children:[s.jsx("p",{className:"user__category",children:"Имя Фамилия"}),s.jsxs("p",{className:"user__details",children:[e.name," ",e.surname]})]})]}),s.jsx("div",{className:"user__info user__info--email",children:s.jsxs("div",{children:[s.jsx("p",{className:"user__category",children:"Электронная почта"}),s.jsx("p",{className:"user__details",children:e.email})]})})]}),s.jsx(_,{className:"button button-primary user__button",onClick:()=>u(),isLoading:t.isPending,children:"Выйти из аккаунта"})]})})};export{g as default};
