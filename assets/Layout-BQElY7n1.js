import{r as i,j as e,L as x,N as m}from"./index-DmZTpW4i.js";const n="https://cinemaguide.skillbox.cc/movie",B=async()=>(await fetch(`${n}/random`)).json(),F=async()=>(await fetch(`${n}/top10`)).json(),R=async s=>(await fetch(`${n}/${s}`)).json(),T=async()=>(await fetch(`${n}/genres`)).json(),Z=async(s,a)=>(await fetch(`${n}?genre=${s}&count=10&page=${a}`)).json(),f=async s=>(await fetch(`${n}/?title=${s}`)).json(),H=(s,a)=>{i.useEffect(()=>{document.title=s},[a,s])},w=(s,a=300)=>{const[c,r]=i.useState(s);return i.useEffect(()=>{const o=setTimeout(()=>{r(s)},a);return()=>clearTimeout(o)},[s,a]),c},j="/assets/logo-CmcEnWyf.svg",v="data:image/svg+xml,%3csvg%20width='36'%20height='36'%20viewBox='0%200%2036%2036'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='0.5'%20y='0.5'%20width='35'%20height='35'%20rx='7.5'%20stroke='white'%20stroke-opacity='0.8'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M26.4865%2014.3797C26.6253%2013.9851%2026.4865%2013.6981%2025.8719%2013.6981H23.8298C23.3144%2013.6981%2023.0764%2013.9492%2022.9377%2014.2183C22.9377%2014.2183%2021.8869%2016.5141%2020.4198%2018.0027C19.9439%2018.4332%2019.7259%2018.5767%2019.4682%2018.5767C19.3293%2018.5767%2019.1509%2018.4332%2019.1509%2018.0386V14.3617C19.1509%2013.8954%2018.9923%2013.6802%2018.5561%2013.6802H15.3444C15.0271%2013.6802%2014.8289%2013.8954%2014.8289%2014.1106C14.8289%2014.5591%2015.5624%2014.6667%2015.6417%2015.9222V18.6484C15.6417%2019.2403%2015.5228%2019.3479%2015.2651%2019.3479C14.5711%2019.3479%2012.886%2017.0342%2011.8748%2014.3976C11.6765%2013.8775%2011.4783%2013.6802%2010.9629%2013.6802H8.90093C8.30617%2013.6802%208.20703%2013.9313%208.20703%2014.2003C8.20703%2014.6846%208.90093%2017.1239%2011.4386%2020.3524C13.1239%2022.5585%2015.5228%2023.7422%2017.6838%2023.7422C18.9923%2023.7422%2019.1509%2023.4732%2019.1509%2023.0248V21.3568C19.1509%2020.8187%2019.2699%2020.729%2019.6862%2020.729C19.9836%2020.729%2020.5189%2020.8725%2021.7283%2021.9307C23.1161%2023.1862%2023.354%2023.7602%2024.1272%2023.7602H26.1693C26.764%2023.7602%2027.0416%2023.4911%2026.883%2022.971C26.7046%2022.4509%2026.0305%2021.6976%2025.1582%2020.8007C24.6823%2020.2986%2023.9686%2019.7426%2023.7505%2019.4735C23.4531%2019.1148%2023.5324%2018.9713%2023.7505%2018.6484C23.7307%2018.6484%2026.2287%2015.4559%2026.4865%2014.3797Z'%20fill='white'%20fill-opacity='0.8'/%3e%3c/svg%3e",N="data:image/svg+xml,%3csvg%20width='36'%20height='36'%20viewBox='0%200%2036%2036'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='0.5'%20y='0.5'%20width='35'%20height='35'%20rx='7.5'%20stroke='white'%20stroke-opacity='0.8'/%3e%3cpath%20d='M19.919%2022.2622L22.5725%2024.8238C23.116%2025.3474%2023.116%2026.1978%2022.5725%2026.722C22.0294%2027.2462%2021.1493%2027.2462%2020.6069%2026.722L17.998%2024.2048L15.3914%2026.722C15.1196%2026.9838%2014.7635%2027.1149%2014.4074%2027.1149C14.0518%2027.1149%2013.6962%2026.9838%2013.4244%2026.722C12.8814%2026.1978%2012.8814%2025.348%2013.4238%2024.8238L16.0776%2022.2622C15.1114%2022.0497%2014.1796%2021.6802%2013.3213%2021.1604C12.6718%2020.7651%2012.4767%2019.9369%2012.8859%2019.3094C13.2941%2018.681%2014.1523%2018.4919%2014.803%2018.8872C16.7461%2020.0671%2019.2493%2020.0674%2021.1936%2018.8872C21.8443%2018.4919%2022.7023%2018.681%2023.1112%2019.3094C23.5205%2019.9364%2023.3248%2020.7651%2022.6753%2021.1604C21.817%2021.6807%2020.8852%2022.0497%2019.919%2022.2622Z'%20fill='white'%20fill-opacity='0.8'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M13.2402%2013.9419C13.2402%2016.4679%2015.3691%2018.5226%2017.9868%2018.5226C20.605%2018.5226%2022.7333%2016.4679%2022.7333%2013.9419C22.7333%2011.4151%2020.605%209.35986%2017.9868%209.35986C15.3691%209.35986%2013.2402%2011.4151%2013.2402%2013.9419ZM19.952%2013.9414C19.952%2012.8953%2019.0705%2012.0446%2017.9867%2012.0446C16.9038%2012.0446%2016.0214%2012.8953%2016.0214%2013.9414C16.0214%2014.9868%2016.9038%2015.838%2017.9867%2015.838C19.0705%2015.838%2019.952%2014.9868%2019.952%2013.9414Z'%20fill='white'%20fill-opacity='0.8'/%3e%3c/svg%3e",y="data:image/svg+xml,%3csvg%20width='36'%20height='36'%20viewBox='0%200%2036%2036'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='0.5'%20y='0.5'%20width='35'%20height='35'%20rx='7.5'%20stroke='white'%20stroke-opacity='0.8'/%3e%3cpath%20d='M8.60008%2017.8588C10.2834%2016.9315%2012.1625%2016.1576%2013.9182%2015.3798C16.9388%2014.1058%2019.9713%2012.8538%2023.0344%2011.6882C23.6304%2011.4896%2024.7012%2011.2954%2024.8062%2012.1786C24.7487%2013.4288%2024.5122%2014.6716%2024.35%2015.9145C23.9382%2018.6476%2023.4623%2021.3713%2022.9982%2024.0955C22.8383%2025.0028%2021.7016%2025.4726%2020.9742%2024.8919C19.2263%2023.7112%2017.465%2022.5421%2015.7394%2021.334C15.1741%2020.7596%2015.6983%2019.9348%2016.2031%2019.5247C17.6427%2018.1059%2019.1695%2016.9005%2020.5339%2015.4084C20.9019%2014.5196%2019.8145%2015.2687%2019.4558%2015.4982C17.4849%2016.8563%2015.5623%2018.2974%2013.4844%2019.4911C12.423%2020.0753%2011.1859%2019.576%2010.125%2019.25C9.17372%2018.8561%207.77979%2018.4594%208.59999%2017.8588L8.60008%2017.8588Z'%20fill='white'%20fill-opacity='0.8'/%3e%3c/svg%3e",k="data:image/svg+xml,%3csvg%20width='36'%20height='36'%20viewBox='0%200%2036%2036'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='0.5'%20y='0.5'%20width='35'%20height='35'%20rx='7.5'%20stroke='white'%20stroke-opacity='0.8'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M24.0013%2013.0496C24.6622%2013.2309%2025.1827%2013.7653%2025.3593%2014.4439C25.6803%2015.6738%2025.6803%2018.24%2025.6803%2018.24C25.6803%2018.24%2025.6803%2020.8061%2025.3593%2022.036C25.1827%2022.7146%2024.6622%2023.249%2024.0013%2023.4305C22.8035%2023.76%2018.0003%2023.76%2018.0003%2023.76C18.0003%2023.76%2013.1971%2023.76%2011.9993%2023.4305C11.3383%2023.249%2010.8179%2022.7146%2010.6412%2022.036C10.3203%2020.8061%2010.3203%2018.24%2010.3203%2018.24C10.3203%2018.24%2010.3203%2015.6738%2010.6412%2014.4439C10.8179%2013.7653%2011.3383%2013.2309%2011.9993%2013.0496C13.1971%2012.72%2018.0003%2012.72%2018.0003%2012.72C18.0003%2012.72%2022.8035%2012.72%2024.0013%2013.0496ZM16.5603%2016.0802V20.8802L20.4003%2018.4803L16.5603%2016.0802Z'%20fill='white'%20fill-opacity='0.8'/%3e%3c/svg%3e",b="/assets/icon-popcorn-BV0ew-mn.png",L=s=>{const a=Math.trunc(s/60),c=s%60;return`${a} ч ${c} мин`},$=s=>{let a="rating";return s>=8.5?a+=" excellent":s>=7?a+=" high":s>=6?a+=" medium":a+=" low",a},S=()=>{const[s,a]=i.useState(!0),[c,r]=i.useState(""),[o,u]=i.useState([]),h=w(c),C=async t=>await f(t).then(_=>{const p=_.filter(d=>t&&d&&d.title.toLowerCase().trim().includes(t.toLowerCase().trim()));u(p)}),g=t=>{a(!0),r(t)};i.useEffect(()=>{C(h)},[h]);const l=document.querySelector("#modal");return window.addEventListener("click",t=>{l&&!l.contains(t.target)&&a(!1)}),i.useEffect(()=>{c&&l&&l.classList.add("active")},[c,l]),e.jsxs("div",{className:"search-bar",children:[e.jsx("input",{className:"search-bar__input",type:"text",placeholder:"Поиск",value:c,onChange:t=>g(t.target.value)}),e.jsx("div",{className:s?"search-bar__dropdown active":"search-bar__dropdown",id:"modal",children:e.jsx("ul",{className:"search-bar__results-list",children:o&&o.map(t=>e.jsx("li",{className:"search-bar__results-item",children:e.jsx(x,{to:`/movie/${t.id}`,onClick:()=>{a(!1),r("")},children:e.jsxs("article",{className:"search-card",children:[e.jsx("img",{src:t.posterUrl?t.posterUrl:b,alt:t.title,width:40,height:52}),e.jsxs("div",{className:"search-card__content",children:[e.jsxs("div",{className:"search-card__info",children:[e.jsx("p",{className:$(t.tmdbRating),children:t.tmdbRating.toFixed(1)}),e.jsx("p",{className:"search-card__release-year",children:t.releaseYear}),e.jsx("p",{className:"search-card__genre",children:t.genres[0]}),e.jsx("p",{className:"search-card__runtime",children:L(t.runtime)})]}),e.jsx("p",{className:"search-card__title",children:t.title})]})]})})},t.id)).slice(0,5)})})]})},E=()=>e.jsx("header",{className:"header",children:e.jsxs("div",{className:"container header__container",children:[e.jsx(x,{className:"header__logo",to:"/",children:e.jsx("img",{src:j,alt:"Cinema Guide",width:240})}),e.jsx("nav",{className:"header__nav nav",children:e.jsxs("ul",{className:"nav__list",children:[e.jsx("li",{children:e.jsx(m,{className:({isActive:s})=>s?"nav__link nav__link--active":"nav__link",to:"/",children:"Главная"})}),e.jsx("li",{children:e.jsx(m,{className:({isActive:s})=>s?"nav__link nav__link--active":"nav__link",to:"/genres",children:"Жанры"})})]})}),e.jsx(S,{}),e.jsx("button",{className:"login-btn",children:"Войти"})]})}),M=()=>e.jsx("footer",{className:"footer",children:e.jsxs("div",{className:"container footer__container",children:[e.jsxs("p",{className:"footer__sub",children:[e.jsx("span",{className:"footer__sub--company",children:"LLC «Мультимедиа Визион»"}),e.jsx("span",{className:"footer__sub--copy",children:"Все права защищены"})]}),e.jsxs("ul",{className:"socials",children:[e.jsx("li",{className:"socials__icon",children:e.jsx("a",{href:"https://vk.com/nomadcharm",target:"blank",children:e.jsx("img",{className:"socials__img",src:v,alt:"Наша страница Вконтакте",width:36,height:36})})}),e.jsx("li",{className:"socials__icon",children:e.jsx("a",{href:"https://www.youtube.com/",target:"blank",children:e.jsx("img",{className:"socials__img",src:k,alt:"Наш YouTube канал",width:36,height:36})})}),e.jsx("li",{className:"socials__icon",children:e.jsx("a",{href:"https://ok.ru/",target:"blank",children:e.jsx("img",{className:"socials__img",src:N,alt:"Наша страница в сетиОдноклассники",width:36,height:36})})}),e.jsx("li",{className:"socials__icon",children:e.jsx("a",{href:"https://t.me/nomadcharm",target:"blank",children:e.jsx("img",{className:"socials__img",src:y,alt:"Наш Телеграм канал",width:36,height:36})})})]})]})}),I=({children:s})=>e.jsxs(e.Fragment,{children:[e.jsx(E,{}),e.jsx("main",{children:s}),e.jsx(M,{})]});export{I as L,F as a,T as b,Z as c,R as d,L as e,B as f,$ as s,H as u};
