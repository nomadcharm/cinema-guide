const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/TrailerModal-CXeH6qt_.js","assets/index-Cmeav6R9.js","assets/index-DqhBMTaX.css","assets/Layout-DOjjWS_Z.js","assets/Layout-uUJWGDBa.css","assets/TrailerModal-CD9wUag6.css"])))=>i.map(i=>d[i]);
import{r as a,_ as j,A as _,j as e,L as p}from"./index-Cmeav6R9.js";import{e as N,A as f,s as w,g as F,R as o}from"./Layout-DOjjWS_Z.js";import{u as M,r as k,a as A}from"./useFavorites-C51gxksT.js";const H=()=>{const[s,n]=a.useState(!1);return[s,()=>{n(l=>!l)}]},R="/cinema-guide/assets/stub-banner-DdsjMKcL.avif",V="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12%204C14.7486%204%2017.1749%205.38626%2018.6156%207.5H16V9.5H22V3.5H20V5.99936C18.1762%203.57166%2015.2724%202%2012%202C6.47715%202%202%206.47715%202%2012H4C4%207.58172%207.58172%204%2012%204ZM20%2012C20%2016.4183%2016.4183%2020%2012%2020C9.25144%2020%206.82508%2018.6137%205.38443%2016.5H8V14.5H2V20.5H4V18.0006C5.82381%2020.4283%208.72764%2022%2012%2022C17.5228%2022%2022%2017.5228%2022%2012H20Z'%20/%3e%3c/svg%3e",u="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16.5%203C19.5376%203%2022%205.5%2022%209C22%2016%2014.5%2020%2012%2021.5C9.5%2020%202%2016%202%209C2%205.5%204.5%203%207.5%203C9.35997%203%2011%204%2012%205C13%204%2014.64%203%2016.5%203ZM12.9339%2018.6038C13.8155%2018.0485%2014.61%2017.4955%2015.3549%2016.9029C18.3337%2014.533%2020%2011.9435%2020%209C20%206.64076%2018.463%205%2016.5%205C15.4241%205%2014.2593%205.56911%2013.4142%206.41421L12%207.82843L10.5858%206.41421C9.74068%205.56911%208.5759%205%207.5%205C5.55906%205%204%206.6565%204%209C4%2011.9435%205.66627%2014.533%208.64514%2016.9029C9.39%2017.4955%2010.1845%2018.0485%2011.0661%2018.6038C11.3646%2018.7919%2011.6611%2018.9729%2012%2019.1752C12.3389%2018.9729%2012.6354%2018.7919%2012.9339%2018.6038Z'%20/%3e%3c/svg%3e",C="data:image/svg+xml,%3csvg%20width='20'%20height='19'%20viewBox='0%200%2020%2019'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.5%200C17.5376%200%2020%202.5%2020%206C20%2013%2012.5%2017%2010%2018.5C7.5%2017%200%2013%200%206C0%202.5%202.5%200%205.5%200C7.35997%200%209%201%2010%202C11%201%2012.64%200%2014.5%200Z'%20fill='%23B4A9FF'/%3e%3c/svg%3e",y=a.lazy(()=>j(()=>import("./TrailerModal-CXeH6qt_.js").then(s=>s.T),__vite__mapDeps([0,1,2,3,4,5]))),B=({film:s,filmPage:n,handleRefresh:h})=>{const[l,i]=H(),[m,v]=M(),[t,c]=a.useState(!1),{currentUser:x}=a.useContext(_),[,g,d]=N();a.useEffect(()=>{v()},[v]),a.useEffect(()=>{s&&m.some(r=>r.id===s.id)?c(!0):c(!1)},[s,m]);const b=r=>{t?k(r):A(r.toString()),c(!t)};return e.jsxs(e.Fragment,{children:[s&&e.jsx(y,{film:s,active:l,handleModalCall:i}),e.jsx(f,{isOpen:g,handleAuthFormCall:d}),e.jsx("section",{className:"film-banner",children:e.jsx("div",{className:"container film-banner__container",children:s?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"film-banner__content",children:[e.jsxs("div",{className:"film-banner__block",children:[e.jsxs("div",{className:"film-banner__info",children:[e.jsx("p",{className:w(s.tmdbRating),children:s.tmdbRating.toFixed(1)}),e.jsx("p",{className:"film-banner__release-year",children:s.releaseYear}),e.jsx("p",{className:"film-banner__genre",children:s.genres[0]}),e.jsx("p",{className:"film-banner__runtime",children:F(s.runtime)})]}),e.jsxs("div",{className:"film-banner__description",children:[e.jsx("h2",{className:"page-title film-banner__title",children:s.title}),e.jsx("p",{className:n?"film-banner__plot":"film-banner__plot-preview",children:s.plot})]})]}),e.jsx("div",{className:"film-banner__actions",children:n?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"button button-primary",onClick:()=>i(),children:"Трейлер"}),e.jsx("button",{className:"button button-icon button-favorite","aria-label":"Добавить в избранное",onClick:x?()=>b(s.id):()=>d(),children:t?e.jsx(o,{src:C}):e.jsx(o,{src:u})})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"button button-primary",onClick:()=>i(),children:"Трейлер"}),e.jsx(p,{className:"button button-secondary",to:`/movie/${s.id}`,children:"О фильме"}),e.jsx("button",{className:"button button-icon button-favorite","aria-label":"Добавить в избранное",onClick:x?()=>b(s.id):()=>d(),children:e.jsx(o,{src:t?C:u,className:t?"svg-favored":"svg"})}),e.jsx("button",{className:"button button-icon button-refresh",onClick:h,"aria-label":"Загрузить новый случайный фильм",children:e.jsx(o,{src:V})})]})})]}),e.jsxs("div",{className:"film-banner__backdrop",children:[e.jsx("img",{src:s.backdropUrl?s.backdropUrl:R,alt:s.title,width:900,height:530}),e.jsx("div",{className:"overlay"})]})]}):null})})]})};export{B as F};
