const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/RegistrationForm-7YK6413i.js","assets/index-IOBi8r0M.js","assets/index-BSecy2zs.css","assets/logo-BhvhqoPE.js","assets/Button-BIhVTPI2.js","assets/Button-jSRHthaq.css","assets/icon-person-CSVaiHAu.js","assets/RegistrationForm-CrunXFnW.css"])))=>i.map(i=>d[i]);
import{R as H,j as D,r as Le,A as sr,u as br,l as Ar,U as wr,_ as Fr}from"./index-IOBi8r0M.js";import{R as Ce,l as Er}from"./logo-BhvhqoPE.js";import{u as Dr,B as pr,q as kr}from"./Button-BIhVTPI2.js";const Sr="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='48'%20height='48'%20rx='24'%20fill='white'/%3e%3cpath%20d='M22.5859%2024L14.793%2016.2071L16.2072%2014.7928L24.0001%2022.5857L31.793%2014.7928L33.2072%2016.2071L25.4143%2024L33.2072%2031.7928L31.793%2033.2071L24.0001%2025.4142L16.2072%2033.2071L14.793%2031.7928L22.5859%2024Z'%20fill='black'/%3e%3c/svg%3e",Cr="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M21%203C21.5523%203%2022%203.44772%2022%204V20.0066C22%2020.5552%2021.5447%2021%2021.0082%2021H2.9918C2.44405%2021%202%2020.5551%202%2020.0066V19H20V7.3L12%2014.5L2%205.5V4C2%203.44772%202.44772%203%203%203H21ZM8%2015V17H0V15H8ZM5%2010V12H0V10H5ZM19.5659%205H4.43414L12%2011.8093L19.5659%205Z'%20/%3e%3c/svg%3e",Lr="data:image/svg+xml,%3csvg%20width='22'%20height='12'%20viewBox='0%200%2022%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.917%207C11.441%209.8377%208.973%2012%206%2012C2.68629%2012%200%209.3137%200%206C0%202.68629%202.68629%200%206%200C8.973%200%2011.441%202.16229%2011.917%205H22V7H20V11H18V7H16V11H14V7H11.917ZM6%2010C8.20914%2010%2010%208.2091%2010%206C10%203.79086%208.20914%202%206%202C3.79086%202%202%203.79086%202%206C2%208.2091%203.79086%2010%206%2010Z'%20/%3e%3c/svg%3e";var fe=e=>e.type==="checkbox",ae=e=>e instanceof Date,O=e=>e==null;const ir=e=>typeof e=="object";var L=e=>!O(e)&&!Array.isArray(e)&&ir(e)&&!ae(e),Mr=e=>L(e)&&e.target?fe(e.target)?e.target.checked:e.target.value:e,Nr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Or=(e,s)=>e.has(Nr(s)),Rr=e=>{const s=e.constructor&&e.constructor.prototype;return L(s)&&s.hasOwnProperty("isPrototypeOf")},Me=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function B(e){let s;const r=Array.isArray(e);if(e instanceof Date)s=new Date(e);else if(e instanceof Set)s=new Set(e);else if(!(Me&&(e instanceof Blob||e instanceof FileList))&&(r||L(e)))if(s=r?[]:{},!r&&!Rr(e))s=e;else for(const i in e)e.hasOwnProperty(i)&&(s[i]=B(e[i]));else return e;return s}var be=e=>Array.isArray(e)?e.filter(Boolean):[],F=e=>e===void 0,y=(e,s,r)=>{if(!s||!L(e))return r;const i=be(s.split(/[,[\].]+?/)).reduce((o,n)=>O(o)?o:o[n],e);return F(i)||i===e?F(e[s])?r:e[s]:i},J=e=>typeof e=="boolean",Ne=e=>/^\w*$/.test(e),ar=e=>be(e.replace(/["|']|\]/g,"").split(/\.|\[/)),b=(e,s,r)=>{let i=-1;const o=Ne(s)?[s]:ar(s),n=o.length,f=n-1;for(;++i<n;){const g=o[i];let w=r;if(i!==f){const p=e[g];w=L(p)||Array.isArray(p)?p:isNaN(+o[i+1])?{}:[]}if(g==="__proto__")return;e[g]=w,e=e[g]}return e};const $e={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},q={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},z={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};H.createContext(null);var Tr=(e,s,r,i=!0)=>{const o={defaultValues:s._defaultValues};for(const n in e)Object.defineProperty(o,n,{get:()=>{const f=n;return s._proxyFormState[f]!==q.all&&(s._proxyFormState[f]=!i||q.all),e[f]}});return o},U=e=>L(e)&&!Object.keys(e).length,Ur=(e,s,r,i)=>{r(e);const{name:o,...n}=e;return U(n)||Object.keys(n).length>=Object.keys(s).length||Object.keys(n).find(f=>s[f]===q.all)},he=e=>Array.isArray(e)?e:[e];function jr(e){const s=H.useRef(e);s.current=e,H.useEffect(()=>{const r=!e.disabled&&s.current.subject&&s.current.subject.subscribe({next:s.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}var W=e=>typeof e=="string",Pr=(e,s,r,i,o)=>W(e)?(i&&s.watch.add(e),y(r,e,o)):Array.isArray(e)?e.map(n=>(i&&s.watch.add(n),y(r,n))):(i&&(s.watchAll=!0),r),nr=(e,s,r,i,o)=>s?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[i]:o||!0}}:{},ze=e=>({isOnSubmit:!e||e===q.onSubmit,isOnBlur:e===q.onBlur,isOnChange:e===q.onChange,isOnAll:e===q.all,isOnTouch:e===q.onTouched}),Ge=(e,s,r)=>!r&&(s.watchAll||s.watch.has(e)||[...s.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const ce=(e,s,r,i)=>{for(const o of r||Object.keys(e)){const n=y(e,o);if(n){const{_f:f,...g}=n;if(f){if(f.refs&&f.refs[0]&&s(f.refs[0],o)&&!i)break;if(f.ref&&s(f.ref,f.name)&&!i)break;ce(g,s)}else L(g)&&ce(g,s)}}};var Br=(e,s,r)=>{const i=he(y(e,r));return b(i,"root",s[r]),b(e,r,i),e},Oe=e=>e.type==="file",Q=e=>typeof e=="function",me=e=>{if(!Me)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},ve=e=>W(e),Re=e=>e.type==="radio",_e=e=>e instanceof RegExp;const Ke={value:!1,isValid:!1},Je={value:!0,isValid:!0};var lr=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!F(e[0].attributes.value)?F(e[0].value)||e[0].value===""?Je:{value:e[0].value,isValid:!0}:Je:Ke}return Ke};const Qe={isValid:!1,value:null};var or=e=>Array.isArray(e)?e.reduce((s,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:s,Qe):Qe;function Xe(e,s,r="validate"){if(ve(e)||Array.isArray(e)&&e.every(ve)||J(e)&&!e)return{type:r,message:ve(e)?e:"",ref:s}}var ie=e=>L(e)&&!_e(e)?e:{value:e,message:""},Ye=async(e,s,r,i,o)=>{const{ref:n,refs:f,required:g,maxLength:w,minLength:p,min:A,max:v,pattern:X,validate:M,name:R,valueAsNumber:Ae,mount:G,disabled:K}=e._f,_=y(s,R);if(!G||K)return{};const Z=f?f[0]:n,$=m=>{i&&Z.reportValidity&&(Z.setCustomValidity(J(m)?"":m||""),Z.reportValidity())},k={},re=Re(n),de=fe(n),Y=re||de,te=(Ae||Oe(n))&&F(n.value)&&F(_)||me(n)&&n.value===""||_===""||Array.isArray(_)&&!_.length,j=nr.bind(null,R,r,k),ye=(m,x,S,N=z.maxLength,I=z.minLength)=>{const P=m?x:S;k[R]={type:m?N:I,message:P,ref:n,...j(m?N:I,P)}};if(o?!Array.isArray(_)||!_.length:g&&(!Y&&(te||O(_))||J(_)&&!_||de&&!lr(f).isValid||re&&!or(f).isValid)){const{value:m,message:x}=ve(g)?{value:!!g,message:g}:ie(g);if(m&&(k[R]={type:z.required,message:x,ref:Z,...j(z.required,x)},!r))return $(x),k}if(!te&&(!O(A)||!O(v))){let m,x;const S=ie(v),N=ie(A);if(!O(_)&&!isNaN(_)){const I=n.valueAsNumber||_&&+_;O(S.value)||(m=I>S.value),O(N.value)||(x=I<N.value)}else{const I=n.valueAsDate||new Date(_),P=oe=>new Date(new Date().toDateString()+" "+oe),ne=n.type=="time",le=n.type=="week";W(S.value)&&_&&(m=ne?P(_)>P(S.value):le?_>S.value:I>new Date(S.value)),W(N.value)&&_&&(x=ne?P(_)<P(N.value):le?_<N.value:I<new Date(N.value))}if((m||x)&&(ye(!!m,S.message,N.message,z.max,z.min),!r))return $(k[R].message),k}if((w||p)&&!te&&(W(_)||o&&Array.isArray(_))){const m=ie(w),x=ie(p),S=!O(m.value)&&_.length>+m.value,N=!O(x.value)&&_.length<+x.value;if((S||N)&&(ye(S,m.message,x.message),!r))return $(k[R].message),k}if(X&&!te&&W(_)){const{value:m,message:x}=ie(X);if(_e(m)&&!_.match(m)&&(k[R]={type:z.pattern,message:x,ref:n,...j(z.pattern,x)},!r))return $(x),k}if(M){if(Q(M)){const m=await M(_,s),x=Xe(m,Z);if(x&&(k[R]={...x,...j(z.validate,x.message)},!r))return $(x.message),k}else if(L(M)){let m={};for(const x in M){if(!U(m)&&!r)break;const S=Xe(await M[x](_,s),Z,x);S&&(m={...S,...j(x,S.message)},$(S.message),r&&(k[R]=m))}if(!U(m)&&(k[R]={ref:Z,...m},!r))return k}}return $(!0),k};function Hr(e,s){const r=s.slice(0,-1).length;let i=0;for(;i<r;)e=F(e)?i++:e[s[i++]];return e}function Ir(e){for(const s in e)if(e.hasOwnProperty(s)&&!F(e[s]))return!1;return!0}function C(e,s){const r=Array.isArray(s)?s:Ne(s)?[s]:ar(s),i=r.length===1?e:Hr(e,r),o=r.length-1,n=r[o];return i&&delete i[n],o!==0&&(L(i)&&U(i)||Array.isArray(i)&&Ir(i))&&C(e,r.slice(0,-1)),e}var pe=()=>{let e=[];return{get observers(){return e},next:o=>{for(const n of e)n.next&&n.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(n=>n!==o)}}),unsubscribe:()=>{e=[]}}},xe=e=>O(e)||!ir(e);function ee(e,s){if(xe(e)||xe(s))return e===s;if(ae(e)&&ae(s))return e.getTime()===s.getTime();const r=Object.keys(e),i=Object.keys(s);if(r.length!==i.length)return!1;for(const o of r){const n=e[o];if(!i.includes(o))return!1;if(o!=="ref"){const f=s[o];if(ae(n)&&ae(f)||L(n)&&L(f)||Array.isArray(n)&&Array.isArray(f)?!ee(n,f):n!==f)return!1}}return!0}var ur=e=>e.type==="select-multiple",qr=e=>Re(e)||fe(e),ke=e=>me(e)&&e.isConnected,cr=e=>{for(const s in e)if(Q(e[s]))return!0;return!1};function Ve(e,s={}){const r=Array.isArray(e);if(L(e)||r)for(const i in e)Array.isArray(e[i])||L(e[i])&&!cr(e[i])?(s[i]=Array.isArray(e[i])?[]:{},Ve(e[i],s[i])):O(e[i])||(s[i]=!0);return s}function fr(e,s,r){const i=Array.isArray(e);if(L(e)||i)for(const o in e)Array.isArray(e[o])||L(e[o])&&!cr(e[o])?F(s)||xe(r[o])?r[o]=Array.isArray(e[o])?Ve(e[o],[]):{...Ve(e[o])}:fr(e[o],O(s)?{}:s[o],r[o]):r[o]=!ee(e[o],s[o]);return r}var ge=(e,s)=>fr(e,s,Ve(s)),dr=(e,{valueAsNumber:s,valueAsDate:r,setValueAs:i})=>F(e)?e:s?e===""?NaN:e&&+e:r&&W(e)?new Date(e):i?i(e):e;function Se(e){const s=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):s.disabled))return Oe(s)?s.files:Re(s)?or(e.refs).value:ur(s)?[...s.selectedOptions].map(({value:r})=>r):fe(s)?lr(e.refs).value:dr(F(s.value)?e.ref.value:s.value,e)}var Wr=(e,s,r,i)=>{const o={};for(const n of e){const f=y(s,n);f&&b(o,n,f._f)}return{criteriaMode:r,names:[...e],fields:o,shouldUseNativeValidation:i}},ue=e=>F(e)?e:_e(e)?e.source:L(e)?_e(e.value)?e.value.source:e.value:e,Zr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function er(e,s,r){const i=y(e,r);if(i||Ne(r))return{error:i,name:r};const o=r.split(".");for(;o.length;){const n=o.join("."),f=y(s,n),g=y(e,n);if(f&&!Array.isArray(f)&&r!==n)return{name:r};if(g&&g.type)return{name:n,error:g};o.pop()}return{name:r}}var $r=(e,s,r,i,o)=>o.isOnAll?!1:!r&&o.isOnTouch?!(s||e):(r?i.isOnBlur:o.isOnBlur)?!e:(r?i.isOnChange:o.isOnChange)?e:!0,zr=(e,s)=>!be(y(e,s)).length&&C(e,s);const Gr={mode:q.onSubmit,reValidateMode:q.onChange,shouldFocusError:!0};function Kr(e={}){let s={...Gr,...e},r={submitCount:0,isDirty:!1,isLoading:Q(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},i={},o=L(s.defaultValues)||L(s.values)?B(s.defaultValues||s.values)||{}:{},n=s.shouldUnregister?{}:B(o),f={action:!1,mount:!1,watch:!1},g={mount:new Set,unMount:new Set,array:new Set,watch:new Set},w,p=0;const A={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},v={values:pe(),array:pe(),state:pe()},X=ze(s.mode),M=ze(s.reValidateMode),R=s.criteriaMode===q.all,Ae=t=>a=>{clearTimeout(p),p=setTimeout(t,a)},G=async t=>{if(A.isValid||t){const a=s.resolver?U((await Y()).errors):await j(i,!0);a!==r.isValid&&v.state.next({isValid:a})}},K=(t,a)=>{(A.isValidating||A.validatingFields)&&((t||Array.from(g.mount)).forEach(l=>{l&&(a?b(r.validatingFields,l,a):C(r.validatingFields,l))}),v.state.next({validatingFields:r.validatingFields,isValidating:!U(r.validatingFields)}))},_=(t,a=[],l,d,c=!0,u=!0)=>{if(d&&l){if(f.action=!0,u&&Array.isArray(y(i,t))){const h=l(y(i,t),d.argA,d.argB);c&&b(i,t,h)}if(u&&Array.isArray(y(r.errors,t))){const h=l(y(r.errors,t),d.argA,d.argB);c&&b(r.errors,t,h),zr(r.errors,t)}if(A.touchedFields&&u&&Array.isArray(y(r.touchedFields,t))){const h=l(y(r.touchedFields,t),d.argA,d.argB);c&&b(r.touchedFields,t,h)}A.dirtyFields&&(r.dirtyFields=ge(o,n)),v.state.next({name:t,isDirty:m(t,a),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else b(n,t,a)},Z=(t,a)=>{b(r.errors,t,a),v.state.next({errors:r.errors})},$=t=>{r.errors=t,v.state.next({errors:r.errors,isValid:!1})},k=(t,a,l,d)=>{const c=y(i,t);if(c){const u=y(n,t,F(l)?y(o,t):l);F(u)||d&&d.defaultChecked||a?b(n,t,a?u:Se(c._f)):N(t,u),f.mount&&G()}},re=(t,a,l,d,c)=>{let u=!1,h=!1;const V={name:t},E=!!(y(i,t)&&y(i,t)._f&&y(i,t)._f.disabled);if(!l||d){A.isDirty&&(h=r.isDirty,r.isDirty=V.isDirty=m(),u=h!==V.isDirty);const T=E||ee(y(o,t),a);h=!!(!E&&y(r.dirtyFields,t)),T||E?C(r.dirtyFields,t):b(r.dirtyFields,t,!0),V.dirtyFields=r.dirtyFields,u=u||A.dirtyFields&&h!==!T}if(l){const T=y(r.touchedFields,t);T||(b(r.touchedFields,t,l),V.touchedFields=r.touchedFields,u=u||A.touchedFields&&T!==l)}return u&&c&&v.state.next(V),u?V:{}},de=(t,a,l,d)=>{const c=y(r.errors,t),u=A.isValid&&J(a)&&r.isValid!==a;if(e.delayError&&l?(w=Ae(()=>Z(t,l)),w(e.delayError)):(clearTimeout(p),w=null,l?b(r.errors,t,l):C(r.errors,t)),(l?!ee(c,l):c)||!U(d)||u){const h={...d,...u&&J(a)?{isValid:a}:{},errors:r.errors,name:t};r={...r,...h},v.state.next(h)}},Y=async t=>{K(t,!0);const a=await s.resolver(n,s.context,Wr(t||g.mount,i,s.criteriaMode,s.shouldUseNativeValidation));return K(t),a},te=async t=>{const{errors:a}=await Y(t);if(t)for(const l of t){const d=y(a,l);d?b(r.errors,l,d):C(r.errors,l)}else r.errors=a;return a},j=async(t,a,l={valid:!0})=>{for(const d in t){const c=t[d];if(c){const{_f:u,...h}=c;if(u){const V=g.array.has(u.name);K([d],!0);const E=await Ye(c,n,R,s.shouldUseNativeValidation&&!a,V);if(K([d]),E[u.name]&&(l.valid=!1,a))break;!a&&(y(E,u.name)?V?Br(r.errors,E,u.name):b(r.errors,u.name,E[u.name]):C(r.errors,u.name))}h&&await j(h,a,l)}}return l.valid},ye=()=>{for(const t of g.unMount){const a=y(i,t);a&&(a._f.refs?a._f.refs.every(l=>!ke(l)):!ke(a._f.ref))&&we(t)}g.unMount=new Set},m=(t,a)=>(t&&a&&b(n,t,a),!ee(Te(),o)),x=(t,a,l)=>Pr(t,g,{...f.mount?n:F(a)?o:W(t)?{[t]:a}:a},l,a),S=t=>be(y(f.mount?n:o,t,e.shouldUnregister?y(o,t,[]):[])),N=(t,a,l={})=>{const d=y(i,t);let c=a;if(d){const u=d._f;u&&(!u.disabled&&b(n,t,dr(a,u)),c=me(u.ref)&&O(a)?"":a,ur(u.ref)?[...u.ref.options].forEach(h=>h.selected=c.includes(h.value)):u.refs?fe(u.ref)?u.refs.length>1?u.refs.forEach(h=>(!h.defaultChecked||!h.disabled)&&(h.checked=Array.isArray(c)?!!c.find(V=>V===h.value):c===h.value)):u.refs[0]&&(u.refs[0].checked=!!c):u.refs.forEach(h=>h.checked=h.value===c):Oe(u.ref)?u.ref.value="":(u.ref.value=c,u.ref.type||v.values.next({name:t,values:{...n}})))}(l.shouldDirty||l.shouldTouch)&&re(t,c,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&oe(t)},I=(t,a,l)=>{for(const d in a){const c=a[d],u=`${t}.${d}`,h=y(i,u);(g.array.has(t)||!xe(c)||h&&!h._f)&&!ae(c)?I(u,c,l):N(u,c,l)}},P=(t,a,l={})=>{const d=y(i,t),c=g.array.has(t),u=B(a);b(n,t,u),c?(v.array.next({name:t,values:{...n}}),(A.isDirty||A.dirtyFields)&&l.shouldDirty&&v.state.next({name:t,dirtyFields:ge(o,n),isDirty:m(t,u)})):d&&!d._f&&!O(u)?I(t,u,l):N(t,u,l),Ge(t,g)&&v.state.next({...r}),v.values.next({name:f.mount?t:void 0,values:{...n}})},ne=async t=>{f.mount=!0;const a=t.target;let l=a.name,d=!0;const c=y(i,l),u=()=>a.type?Se(c._f):Mr(t),h=V=>{d=Number.isNaN(V)||V===y(n,l,V)};if(c){let V,E;const T=u(),se=t.type===$e.BLUR||t.type===$e.FOCUS_OUT,_r=!Zr(c._f)&&!s.resolver&&!y(r.errors,l)&&!c._f.deps||$r(se,y(r.touchedFields,l),r.isSubmitted,M,X),Ee=Ge(l,g,se);b(n,l,T),se?(c._f.onBlur&&c._f.onBlur(t),w&&w(0)):c._f.onChange&&c._f.onChange(t);const De=re(l,T,se,!1),xr=!U(De)||Ee;if(!se&&v.values.next({name:l,type:t.type,values:{...n}}),_r)return A.isValid&&G(),xr&&v.state.next({name:l,...Ee?{}:De});if(!se&&Ee&&v.state.next({...r}),s.resolver){const{errors:We}=await Y([l]);if(h(T),d){const Vr=er(r.errors,i,l),Ze=er(We,i,Vr.name||l);V=Ze.error,l=Ze.name,E=U(We)}}else K([l],!0),V=(await Ye(c,n,R,s.shouldUseNativeValidation))[l],K([l]),h(T),d&&(V?E=!1:A.isValid&&(E=await j(i,!0)));d&&(c._f.deps&&oe(c._f.deps),de(l,E,V,De))}},le=(t,a)=>{if(y(r.errors,a)&&t.focus)return t.focus(),1},oe=async(t,a={})=>{let l,d;const c=he(t);if(s.resolver){const u=await te(F(t)?t:c);l=U(u),d=t?!c.some(h=>y(u,h)):l}else t?(d=(await Promise.all(c.map(async u=>{const h=y(i,u);return await j(h&&h._f?{[u]:h}:h)}))).every(Boolean),!(!d&&!r.isValid)&&G()):d=l=await j(i);return v.state.next({...!W(t)||A.isValid&&l!==r.isValid?{}:{name:t},...s.resolver||!t?{isValid:l}:{},errors:r.errors}),a.shouldFocus&&!d&&ce(i,le,t?c:g.mount),d},Te=t=>{const a={...f.mount?n:o};return F(t)?a:W(t)?y(a,t):t.map(l=>y(a,l))},Ue=(t,a)=>({invalid:!!y((a||r).errors,t),isDirty:!!y((a||r).dirtyFields,t),error:y((a||r).errors,t),isValidating:!!y(r.validatingFields,t),isTouched:!!y((a||r).touchedFields,t)}),gr=t=>{t&&he(t).forEach(a=>C(r.errors,a)),v.state.next({errors:t?r.errors:{}})},je=(t,a,l)=>{const d=(y(i,t,{_f:{}})._f||{}).ref,c=y(r.errors,t)||{},{ref:u,message:h,type:V,...E}=c;b(r.errors,t,{...E,...a,ref:d}),v.state.next({name:t,errors:r.errors,isValid:!1}),l&&l.shouldFocus&&d&&d.focus&&d.focus()},hr=(t,a)=>Q(t)?v.values.subscribe({next:l=>t(x(void 0,a),l)}):x(t,a,!0),we=(t,a={})=>{for(const l of t?he(t):g.mount)g.mount.delete(l),g.array.delete(l),a.keepValue||(C(i,l),C(n,l)),!a.keepError&&C(r.errors,l),!a.keepDirty&&C(r.dirtyFields,l),!a.keepTouched&&C(r.touchedFields,l),!a.keepIsValidating&&C(r.validatingFields,l),!s.shouldUnregister&&!a.keepDefaultValue&&C(o,l);v.values.next({values:{...n}}),v.state.next({...r,...a.keepDirty?{isDirty:m()}:{}}),!a.keepIsValid&&G()},Pe=({disabled:t,name:a,field:l,fields:d,value:c})=>{if(J(t)&&f.mount||t){const u=t?void 0:F(c)?Se(l?l._f:y(d,a)._f):c;b(n,a,u),re(a,u,!1,!1,!0)}},Fe=(t,a={})=>{let l=y(i,t);const d=J(a.disabled);return b(i,t,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:t}},name:t,mount:!0,...a}}),g.mount.add(t),l?Pe({field:l,disabled:a.disabled,name:t,value:a.value}):k(t,!0,a.value),{...d?{disabled:a.disabled}:{},...s.progressive?{required:!!a.required,min:ue(a.min),max:ue(a.max),minLength:ue(a.minLength),maxLength:ue(a.maxLength),pattern:ue(a.pattern)}:{},name:t,onChange:ne,onBlur:ne,ref:c=>{if(c){Fe(t,a),l=y(i,t);const u=F(c.value)&&c.querySelectorAll&&c.querySelectorAll("input,select,textarea")[0]||c,h=qr(u),V=l._f.refs||[];if(h?V.find(E=>E===u):u===l._f.ref)return;b(i,t,{_f:{...l._f,...h?{refs:[...V.filter(ke),u,...Array.isArray(y(o,t))?[{}]:[]],ref:{type:u.type,name:t}}:{ref:u}}}),k(t,!1,void 0,u)}else l=y(i,t,{}),l._f&&(l._f.mount=!1),(s.shouldUnregister||a.shouldUnregister)&&!(Or(g.array,t)&&f.action)&&g.unMount.add(t)}}},Be=()=>s.shouldFocusError&&ce(i,le,g.mount),vr=t=>{J(t)&&(v.state.next({disabled:t}),ce(i,(a,l)=>{const d=y(i,l);d&&(a.disabled=d._f.disabled||t,Array.isArray(d._f.refs)&&d._f.refs.forEach(c=>{c.disabled=d._f.disabled||t}))},0,!1))},He=(t,a)=>async l=>{let d;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let c=B(n);if(v.state.next({isSubmitting:!0}),s.resolver){const{errors:u,values:h}=await Y();r.errors=u,c=h}else await j(i);if(C(r.errors,"root"),U(r.errors)){v.state.next({errors:{}});try{await t(c,l)}catch(u){d=u}}else a&&await a({...r.errors},l),Be(),setTimeout(Be);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:U(r.errors)&&!d,submitCount:r.submitCount+1,errors:r.errors}),d)throw d},mr=(t,a={})=>{y(i,t)&&(F(a.defaultValue)?P(t,B(y(o,t))):(P(t,a.defaultValue),b(o,t,B(a.defaultValue))),a.keepTouched||C(r.touchedFields,t),a.keepDirty||(C(r.dirtyFields,t),r.isDirty=a.defaultValue?m(t,B(y(o,t))):m()),a.keepError||(C(r.errors,t),A.isValid&&G()),v.state.next({...r}))},Ie=(t,a={})=>{const l=t?B(t):o,d=B(l),c=U(t),u=c?o:d;if(a.keepDefaultValues||(o=l),!a.keepValues){if(a.keepDirtyValues)for(const h of g.mount)y(r.dirtyFields,h)?b(u,h,y(n,h)):P(h,y(u,h));else{if(Me&&F(t))for(const h of g.mount){const V=y(i,h);if(V&&V._f){const E=Array.isArray(V._f.refs)?V._f.refs[0]:V._f.ref;if(me(E)){const T=E.closest("form");if(T){T.reset();break}}}}i={}}n=e.shouldUnregister?a.keepDefaultValues?B(o):{}:B(u),v.array.next({values:{...u}}),v.values.next({values:{...u}})}g={mount:a.keepDirtyValues?g.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},f.mount=!A.isValid||!!a.keepIsValid||!!a.keepDirtyValues,f.watch=!!e.shouldUnregister,v.state.next({submitCount:a.keepSubmitCount?r.submitCount:0,isDirty:c?!1:a.keepDirty?r.isDirty:!!(a.keepDefaultValues&&!ee(t,o)),isSubmitted:a.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:c?{}:a.keepDirtyValues?a.keepDefaultValues&&n?ge(o,n):r.dirtyFields:a.keepDefaultValues&&t?ge(o,t):a.keepDirty?r.dirtyFields:{},touchedFields:a.keepTouched?r.touchedFields:{},errors:a.keepErrors?r.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},qe=(t,a)=>Ie(Q(t)?t(n):t,a);return{control:{register:Fe,unregister:we,getFieldState:Ue,handleSubmit:He,setError:je,_executeSchema:Y,_getWatch:x,_getDirty:m,_updateValid:G,_removeUnmounted:ye,_updateFieldArray:_,_updateDisabledField:Pe,_getFieldArray:S,_reset:Ie,_resetDefaultValues:()=>Q(s.defaultValues)&&s.defaultValues().then(t=>{qe(t,s.resetOptions),v.state.next({isLoading:!1})}),_updateFormState:t=>{r={...r,...t}},_disableForm:vr,_subjects:v,_proxyFormState:A,_setErrors:$,get _fields(){return i},get _formValues(){return n},get _state(){return f},set _state(t){f=t},get _defaultValues(){return o},get _names(){return g},set _names(t){g=t},get _formState(){return r},set _formState(t){r=t},get _options(){return s},set _options(t){s={...s,...t}}},trigger:oe,register:Fe,handleSubmit:He,watch:hr,setValue:P,getValues:Te,reset:qe,resetField:mr,clearErrors:gr,unregister:we,setError:je,setFocus:(t,a={})=>{const l=y(i,t),d=l&&l._f;if(d){const c=d.refs?d.refs[0]:d.ref;c.focus&&(c.focus(),a.shouldSelect&&c.select())}},getFieldState:Ue}}function Jr(e={}){const s=H.useRef(),r=H.useRef(),[i,o]=H.useState({isDirty:!1,isValidating:!1,isLoading:Q(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Q(e.defaultValues)?void 0:e.defaultValues});s.current||(s.current={...Kr(e),formState:i});const n=s.current.control;return n._options=e,jr({subject:n._subjects.state,next:f=>{Ur(f,n._proxyFormState,n._updateFormState)&&o({...n._formState})}}),H.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),H.useEffect(()=>{if(n._proxyFormState.isDirty){const f=n._getDirty();f!==i.isDirty&&n._subjects.state.next({isDirty:f})}},[n,i.isDirty]),H.useEffect(()=>{e.values&&!ee(e.values,r.current)?(n._reset(e.values,n._options.resetOptions),r.current=e.values,o(f=>({...f}))):n._resetDefaultValues()},[e.values,n]),H.useEffect(()=>{e.errors&&n._setErrors(e.errors)},[e.errors,n]),H.useEffect(()=>{n._state.mount||(n._updateValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),H.useEffect(()=>{e.shouldUnregister&&n._subjects.values.next({values:n._getWatch()})},[e.shouldUnregister,n]),s.current.formState=Tr(i,n),s.current}const rr=(e,s,r)=>{if(e&&"reportValidity"in e){const i=y(r,s);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},yr=(e,s)=>{for(const r in s.fields){const i=s.fields[r];i&&i.ref&&"reportValidity"in i.ref?rr(i.ref,r,e):i.refs&&i.refs.forEach(o=>rr(o,r,e))}},Qr=(e,s)=>{s.shouldUseNativeValidation&&yr(e,s);const r={};for(const i in e){const o=y(s.fields,i),n=Object.assign(e[i]||{},{ref:o&&o.ref});if(Xr(s.names||Object.keys(e),i)){const f=Object.assign({},y(r,i));b(f,"root",n),b(r,i,f)}else b(r,i,n)}return r},Xr=(e,s)=>e.some(r=>r.startsWith(s+"."));var Yr=function(e,s){for(var r={};e.length;){var i=e[0],o=i.code,n=i.message,f=i.path.join(".");if(!r[f])if("unionErrors"in i){var g=i.unionErrors[0].errors[0];r[f]={message:g.message,type:g.code}}else r[f]={message:n,type:o};if("unionErrors"in i&&i.unionErrors.forEach(function(A){return A.errors.forEach(function(v){return e.push(v)})}),s){var w=r[f].types,p=w&&w[i.code];r[f]=nr(f,s,r,o,p?[].concat(p,i.message):i.message)}e.shift()}return r},et=function(e,s,r){return r===void 0&&(r={}),function(i,o,n){try{return Promise.resolve(function(f,g){try{var w=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](i,s)).then(function(p){return n.shouldUseNativeValidation&&yr({},n),{errors:{},values:r.raw?i:p}})}catch(p){return g(p)}return w&&w.then?w.then(void 0,g):w}(0,function(f){if(function(g){return Array.isArray(g==null?void 0:g.errors)}(f))return{values:{},errors:Qr(Yr(f.errors,!n.shouldUseNativeValidation&&n.criteriaMode==="all"),n)};throw f}))}catch(f){return Promise.reject(f)}}};const tr=({children:e,errorMessage:s})=>D.jsxs("label",{className:"form-field",children:[e,s&&D.jsx("span",{className:"form-field__error",children:s})]}),rt=()=>{var A,v,X;const{handleAuthModalCall:e}=Le.useContext(sr),s=br(),{register:r,handleSubmit:i,reset:o,formState:{errors:n},setError:f,clearErrors:g}=Jr({defaultValues:{email:"",password:""},resolver:et(wr)}),w=Dr({mutationFn:M=>Ar(M.email,M.password),onSuccess(){s("/profile"),e(),o()},onError(M){f("root",{type:"server",message:M.message}),M.name!=="AuthError"&&f("email",{type:"manual",message:M.message})}},kr),p=async M=>{w.mutate(M)};return D.jsx("div",{className:"login",children:D.jsxs("form",{className:"login__form",onSubmit:i(p),children:[D.jsxs(tr,{errorMessage:(A=n.email)==null?void 0:A.message,children:[D.jsx(Ce,{className:"input-icon",src:Cr}),D.jsx("input",{...r("email"),type:"text",autoFocus:!0,placeholder:"Электронная почта",onChange:()=>g("email")})]}),D.jsxs(tr,{errorMessage:(v=n.password)==null?void 0:v.message,children:[D.jsx(Ce,{className:"input-icon",src:Lr}),D.jsx("input",{...r("password"),type:"password",placeholder:"Пароль",onChange:()=>g("password")})]}),n.root&&D.jsx("p",{className:"error-message",children:(X=n.root)==null?void 0:X.message}),D.jsx(pr,{className:"button button-primary login__submit",isLoading:w.isPending,children:"Войти"})]})})},tt=Le.lazy(()=>Fr(()=>import("./RegistrationForm-7YK6413i.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),st=({isOpen:e})=>{const{authMode:s,handleAuthModalCall:r,handleClick:i}=Le.useContext(sr);return D.jsx("div",{className:e?"auth-modal is-open":"auth-modal",onClick:o=>{const n=o.target;n instanceof HTMLElement&&n.className==="auth-modal is-open"&&r()},children:D.jsxs("div",{className:"auth-modal__inner",children:[D.jsx("button",{className:"auth-modal__close",onClick:()=>r(),"aria-label":"Закрыть окно",children:D.jsx(Ce,{src:Sr})}),D.jsx("img",{className:"auth-modal__logo",src:Er,alt:"Cinema Guide",width:180}),s==="register"?D.jsx(tt,{}):D.jsx(rt,{}),D.jsx("button",{className:"auth-modal__button",onClick:()=>i(),children:s==="register"?"У меня есть пароль":"Регистрация"})]})})},ct=Object.freeze(Object.defineProperty({__proto__:null,default:st},Symbol.toStringTag,{value:"Module"}));export{ct as A,tr as F,Cr as e,Lr as k,et as t,Jr as u};
