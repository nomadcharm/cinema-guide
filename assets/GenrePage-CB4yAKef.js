import{r as i,c as p,u as b,j as e}from"./index-DLOjgd3P.js";import{R as f}from"./logo-2XCtsmTN.js";import{u as x,L as y}from"./Layout-H_9agTaF.js";import{F as _}from"./FilmPreviewCard-BrbvgbuR.js";import"./icon-person-CSVaiHAu.js";const j=s=>{const[t,n]=i.useState([]),[r,l]=i.useState(0),[c,o]=i.useState(!0),a=async(u,h)=>{const m=await p(u,h);(m.length===0||m.length<10)&&o(!1),n(d=>[...d,...m])};return i.useEffect(()=>{a(s,r)},[s,r]),[t,r,l,c]},v="data:image/svg+xml,%3csvg%20width='40'%20height='40'%20viewBox='0%200%2040%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18.047%2020.0012L26.2967%2028.2507L23.9397%2030.6077L13.333%2020.0012L23.9397%209.39453L26.2967%2011.7515L18.047%2020.0012Z'%20/%3e%3c/svg%3e",g=s=>s.substring(0,1).toUpperCase()+s.substring(1),P=()=>{const t=new URLSearchParams(window.location.search).get("genre")??"",[n,r,l,c]=j(t),o=b();return x(`${g(t)} | Cinema Guide`,t),e.jsx(y,{children:e.jsx("section",{className:"films-by-genre",children:e.jsxs("div",{className:"container films-by-genre__container",children:[e.jsxs("div",{className:"films-by-genre__title-block",children:[e.jsx("button",{className:"films-by-genre__nav-back",onClick:()=>o(-1),"aria-label":"К списку жанров",children:e.jsx(f,{src:v})}),e.jsx("h1",{className:"page-title films-by-genre__title",children:g(t)})]}),n&&e.jsx("ul",{className:"films-by-genre__list",children:n.map(a=>e.jsx("li",{className:"films-by-genre__item",children:e.jsx(_,{id:a.id,title:a.title,posterUrl:a.posterUrl})},a.id))}),c?e.jsx("button",{className:"button button-primary films-by-genre__load-btn",onClick:()=>l(r+1),children:"Показать ещё"}):null]})})})};export{P as default};
